{"ast":null,"code":"import { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, withModifiers as _withModifiers, openBlock as _openBlock, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = [\"src\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_v_card_title = _resolveComponent(\"v-card-title\");\n  const _component_v_text_field = _resolveComponent(\"v-text-field\");\n  const _component_v_checkbox = _resolveComponent(\"v-checkbox\");\n  const _component_v_btn = _resolveComponent(\"v-btn\");\n  const _component_v_divider = _resolveComponent(\"v-divider\");\n  const _component_v_list_item_title = _resolveComponent(\"v-list-item-title\");\n  const _component_v_list_item = _resolveComponent(\"v-list-item\");\n  const _component_v_list = _resolveComponent(\"v-list\");\n  const _component_v_form = _resolveComponent(\"v-form\");\n  const _component_v_card_text = _resolveComponent(\"v-card-text\");\n  const _component_v_card = _resolveComponent(\"v-card\");\n  const _component_v_col = _resolveComponent(\"v-col\");\n  const _component_v_row = _resolveComponent(\"v-row\");\n  const _component_v_container = _resolveComponent(\"v-container\");\n  return _openBlock(), _createBlock(_component_v_container, null, {\n    default: _withCtx(() => [_createVNode(_component_v_row, {\n      justify: \"center\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_v_col, {\n        cols: \"12\",\n        sm: \"6\",\n        md: \"8\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_v_card, null, {\n          default: _withCtx(() => [_createVNode(_component_v_card_title, {\n            class: \"text-h5 text-center\"\n          }, {\n            default: _withCtx(() => [_createTextVNode(\"로그인\")]),\n            _: 1 /* STABLE */\n          }), _createVNode(_component_v_card_text, null, {\n            default: _withCtx(() => [_createVNode(_component_v_form, {\n              onSubmit: _withModifiers($options.doLogin, [\"prevent\"])\n            }, {\n              default: _withCtx(() => [_createVNode(_component_v_text_field, {\n                label: \"아이디(이메일)\",\n                modelValue: $data.email,\n                \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.email = $event),\n                type: \"email\",\n                \"prepend-icon\": \"mdi-email\",\n                required: \"\"\n              }, null, 8 /* PROPS */, [\"modelValue\"]), _createVNode(_component_v_text_field, {\n                label: \"비밀번호\",\n                modelValue: $data.password,\n                \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.password = $event),\n                type: \"password\",\n                \"prepend-icon\": \"mdi-lock\",\n                required: \"\"\n              }, null, 8 /* PROPS */, [\"modelValue\"]), _createVNode(_component_v_checkbox, {\n                modelValue: $data.rememberEmail,\n                \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.rememberEmail = $event),\n                label: \"ID 저장\"\n              }, null, 8 /* PROPS */, [\"modelValue\"]), _createVNode(_component_v_checkbox, {\n                modelValue: $data.autoLogin,\n                \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.autoLogin = $event),\n                label: \"자동로그인\"\n              }, null, 8 /* PROPS */, [\"modelValue\"]), _createVNode(_component_v_btn, {\n                block: \"\",\n                type: \"submit\",\n                color: \"primary\"\n              }, {\n                default: _withCtx(() => [_createTextVNode(\"로그인\")]),\n                _: 1 /* STABLE */\n              }), _createVNode(_component_v_divider, {\n                class: \"my-4\"\n              }), _createVNode(_component_v_btn, {\n                onClick: $options.googleLogin,\n                style: {\n                  \"display\": \"flex\",\n                  \"align-items\": \"center\",\n                  \"justify-content\": \"center\",\n                  \"width\": \"2000px\"\n                }\n              }, {\n                default: _withCtx(() => [_createElementVNode(\"img\", {\n                  src: require('@/assets/images/google.png'),\n                  alt: \"Google\",\n                  style: {\n                    \"width\": \"500px\",\n                    \"margin-right\": \"8px\"\n                  }\n                }, null, 8 /* PROPS */, _hoisted_1)]),\n                _: 1 /* STABLE */\n              }, 8 /* PROPS */, [\"onClick\"]), _createCommentVNode(\" <v-img @click=\\\"googleLogin\\\" :src=\\\"require('@/assets/images/google.png' )\\\"></v-img> \"), _createVNode(_component_v_divider, {\n                class: \"my-4\"\n              }), _createVNode(_component_v_list, null, {\n                default: _withCtx(() => [_createVNode(_component_v_list_item, {\n                  onClick: $options.findId\n                }, {\n                  default: _withCtx(() => [_createVNode(_component_v_list_item_title, null, {\n                    default: _withCtx(() => [_createTextVNode(\"아이디 찾기\")]),\n                    _: 1 /* STABLE */\n                  })]),\n                  _: 1 /* STABLE */\n                }, 8 /* PROPS */, [\"onClick\"]), _createVNode(_component_v_list_item, {\n                  onClick: $options.findPassword\n                }, {\n                  default: _withCtx(() => [_createVNode(_component_v_list_item_title, null, {\n                    default: _withCtx(() => [_createTextVNode(\"비밀번호 찾기\")]),\n                    _: 1 /* STABLE */\n                  })]),\n                  _: 1 /* STABLE */\n                }, 8 /* PROPS */, [\"onClick\"]), _createVNode(_component_v_list_item, {\n                  onClick: $options.signUp\n                }, {\n                  default: _withCtx(() => [_createVNode(_component_v_list_item_title, null, {\n                    default: _withCtx(() => [_createTextVNode(\"회원가입\")]),\n                    _: 1 /* STABLE */\n                  })]),\n                  _: 1 /* STABLE */\n                }, 8 /* PROPS */, [\"onClick\"])]),\n                _: 1 /* STABLE */\n              })]),\n              _: 1 /* STABLE */\n            }, 8 /* PROPS */, [\"onSubmit\"])]),\n            _: 1 /* STABLE */\n          })]),\n          _: 1 /* STABLE */\n        })]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    })]),\n    _: 1 /* STABLE */\n  });\n}","map":{"version":3,"names":["_createBlock","_component_v_container","default","_withCtx","_createVNode","_component_v_row","justify","_component_v_col","cols","sm","md","_component_v_card","_component_v_card_title","class","_createTextVNode","_","_component_v_card_text","_component_v_form","onSubmit","_withModifiers","$options","doLogin","_component_v_text_field","label","modelValue","$data","email","_cache","$event","type","required","password","_component_v_checkbox","rememberEmail","autoLogin","_component_v_btn","block","color","_component_v_divider","onClick","googleLogin","style","_createElementVNode","src","require","alt","_hoisted_1","_createCommentVNode","_component_v_list","_component_v_list_item","findId","_component_v_list_item_title","findPassword","signUp"],"sources":["/Users/milcho/Project/TEENKIRI/teenkiri_front/teenkiri_front/src/views/user/LoginPage.vue"],"sourcesContent":["<template>\n  <v-container>\n      <v-row justify=\"center\">\n          <v-col cols=\"12\" sm=\"6\" md=\"8\">\n              <v-card>\n                  <v-card-title class=\"text-h5 text-center\">로그인</v-card-title>\n                  <v-card-text>\n                      <v-form @submit.prevent=\"doLogin\">\n                          <v-text-field\n                              label=\"아이디(이메일)\"\n                              v-model=\"email\"\n                              type=\"email\"\n                              prepend-icon=\"mdi-email\"\n                              required\n                          ></v-text-field>\n                          <v-text-field\n                              label=\"비밀번호\"\n                              v-model=\"password\"\n                              type=\"password\"\n                              prepend-icon=\"mdi-lock\"\n                              required\n                          ></v-text-field>\n                          <v-checkbox\n                              v-model=\"rememberEmail\"\n                              label=\"ID 저장\"\n                          ></v-checkbox>\n                          <v-checkbox\n                              v-model=\"autoLogin\"\n                              label=\"자동로그인\"\n                          ></v-checkbox>\n                          <v-btn block type=\"submit\" color=\"primary\">로그인</v-btn>\n                          <v-divider class=\"my-4\"></v-divider>\n                          <v-btn @click=\"googleLogin\" style=\"display: flex; align-items: center; justify-content: center; width: 2000px;\">\n                            <img \n                              :src=\"require('@/assets/images/google.png')\"\n                              alt=\"Google\"\n                              style=\"width: 500px; margin-right: 8px;\"\n                            />\n                          </v-btn>                          \n                          <!-- <v-img @click=\"googleLogin\" :src=\"require('@/assets/images/google.png' )\"></v-img> -->\n                          <v-divider class=\"my-4\"></v-divider>\n                          <v-list>\n                              <v-list-item @click=\"findId\">\n                                  <v-list-item-title>아이디 찾기</v-list-item-title>\n                              </v-list-item>\n                              <v-list-item @click=\"findPassword\">\n                                  <v-list-item-title>비밀번호 찾기</v-list-item-title>\n                              </v-list-item>\n                              <v-list-item @click=\"signUp\">\n                                  <v-list-item-title>회원가입</v-list-item-title>\n                              </v-list-item>\n                          </v-list>\n                      </v-form>\n                  </v-card-text>\n              </v-card>\n          </v-col>\n      </v-row>\n  </v-container>\n</template>\n\n<script>\nimport axios from 'axios';\nimport {jwtDecode} from 'jwt-decode';\n\nexport default {\n    name: \"LoginPage\",\n    data() {\n        return {\n            email: \"\",\n            password: \"\",\n            rememberEmail: false,\n            autoLogin: false,\n        };\n    },\n    mounted() {\n        const savedEmail = localStorage.getItem('savedEmail');\n        if (savedEmail) {\n            this.email = savedEmail;\n            this.rememberEmail = true;\n        }\n    },\n    methods: {\n        async doLogin() {\n            try {\n                const loginData = {\n                    email: this.email,\n                    password: this.password,\n                    rememberEmail: this.rememberEmail,\n                    autoLogin: this.autoLogin,\n                };\n                const response = await axios.post(`${process.env.VUE_APP_API_BASE_URL}/user/login`, loginData);\n                console.log('로그인 성공');\n                const token = response.data.result;\n                const decodedToken = jwtDecode(token);\n                const role = decodedToken.role;\n                const userId = decodedToken.userId;\n\n              localStorage.setItem('token', token);\n              localStorage.setItem('role', role);\n              localStorage.setItem('userId', userId);  // user.id 저장\n              localStorage.setItem('email', this.email);  // email 저장\n\n                if (this.rememberEmail) {\n                    localStorage.setItem('savedEmail', this.email);  // 이메일 저장\n                } else {\n                    localStorage.removeItem('savedEmail');  // 이메일 삭제\n                }\n\n                window.location.href = \"/\";\n            } catch (e) {\n                alert('로그인 실패');\n                console.error(e);\n                const error_message = e.response?.data?.status_message || \"로그인에 실패했습니다.\";\n                alert(error_message);\n            }\n        },\n        googleLogin() {\n            window.location.href = 'http://localhost:8088/oauth2/authorization/google';\n    },\n        findId() {\n            this.$router.push(\"/user/find-id\");\n        },\n        findPassword() {\n            this.$router.push(\"/user/find-password\");\n        },\n        signUp() {\n            this.$router.push(\"/user/create\");\n        },\n    },\n};\n</script>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}