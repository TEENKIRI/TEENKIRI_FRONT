{"ast":null,"code":"import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createBlock as _createBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-b3914388\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h2\", {\n  class: \"text-h4 font-weight-bold mb-4\"\n}, \"알림 내역\", -1 /* HOISTED */));\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_v_list_item_title = _resolveComponent(\"v-list-item-title\");\n  const _component_v_list_item_content = _resolveComponent(\"v-list-item-content\");\n  const _component_v_icon = _resolveComponent(\"v-icon\");\n  const _component_v_btn = _resolveComponent(\"v-btn\");\n  const _component_v_list_item_action = _resolveComponent(\"v-list-item-action\");\n  const _component_v_list_item = _resolveComponent(\"v-list-item\");\n  const _component_v_list = _resolveComponent(\"v-list\");\n  const _component_v_pagination = _resolveComponent(\"v-pagination\");\n  const _component_v_row = _resolveComponent(\"v-row\");\n  const _component_v_container = _resolveComponent(\"v-container\");\n  return _openBlock(), _createBlock(_component_v_container, {\n    class: \"mt-5\"\n  }, {\n    default: _withCtx(() => [_hoisted_1, _createVNode(_component_v_list, {\n      \"two-line\": \"\"\n    }, {\n      default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.paginatedNotifications, (notification, index) => {\n        return _openBlock(), _createBlock(_component_v_list_item, {\n          key: notification.id,\n          class: \"notification-item\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_v_list_item_content, null, {\n            default: _withCtx(() => [_createVNode(_component_v_list_item_title, {\n              class: \"font-weight-medium\"\n            }, {\n              default: _withCtx(() => [_createTextVNode(_toDisplayString(index + 1 + ($data.currentPage - 1) * $data.itemsPerPage) + \". \" + _toDisplayString(notification.message), 1 /* TEXT */)]),\n              _: 2 /* DYNAMIC */\n            }, 1024 /* DYNAMIC_SLOTS */)]),\n            _: 2 /* DYNAMIC */\n          }, 1024 /* DYNAMIC_SLOTS */), _createVNode(_component_v_list_item_action, null, {\n            default: _withCtx(() => [_createVNode(_component_v_btn, {\n              icon: \"\",\n              onClick: $event => $options.viewDetail(notification)\n            }, {\n              default: _withCtx(() => [_createVNode(_component_v_icon, null, {\n                default: _withCtx(() => [_createTextVNode(\"mdi-arrow-right-bold-circle-outline\")]),\n                _: 1 /* STABLE */\n              })]),\n              _: 2 /* DYNAMIC */\n            }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"])]),\n            _: 2 /* DYNAMIC */\n          }, 1024 /* DYNAMIC_SLOTS */)]),\n          _: 2 /* DYNAMIC */\n        }, 1024 /* DYNAMIC_SLOTS */);\n      }), 128 /* KEYED_FRAGMENT */))]),\n      _: 1 /* STABLE */\n    }), _createCommentVNode(\" 페이지네이션 \"), _createVNode(_component_v_row, {\n      justify: \"center\",\n      class: \"mt-4\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_v_pagination, {\n        modelValue: $data.currentPage,\n        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.currentPage = $event),\n        length: $data.totalPages,\n        onInput: _ctx.debouncedFetchNotifications\n      }, null, 8 /* PROPS */, [\"modelValue\", \"length\", \"onInput\"])]),\n      _: 1 /* STABLE */\n    })]),\n    _: 1 /* STABLE */\n  });\n}","map":{"version":3,"names":["_createElementVNode","class","_createBlock","_component_v_container","default","_withCtx","_hoisted_1","_createVNode","_component_v_list","_createElementBlock","_Fragment","_renderList","$options","paginatedNotifications","notification","index","_component_v_list_item","key","id","_component_v_list_item_content","_component_v_list_item_title","_createTextVNode","_toDisplayString","$data","currentPage","itemsPerPage","message","_","_component_v_list_item_action","_component_v_btn","icon","onClick","$event","viewDetail","_component_v_icon","_createCommentVNode","_component_v_row","justify","_component_v_pagination","modelValue","_cache","length","totalPages","onInput","_ctx","debouncedFetchNotifications"],"sources":["/Users/milcho/Project/TEENKIRI/teenkiri_front/teenkiri_front/src/views/user/UserNotificaion.vue"],"sourcesContent":["<template>\n    <v-container class=\"mt-5\">\n      <h2 class=\"text-h4 font-weight-bold mb-4\">알림 내역</h2>\n  \n      <v-list two-line>\n        <v-list-item\n          v-for=\"(notification, index) in paginatedNotifications\"\n          :key=\"notification.id\"\n          class=\"notification-item\"\n        >\n          <v-list-item-content>\n            <v-list-item-title class=\"font-weight-medium\">\n              {{ index + 1 + (currentPage - 1) * itemsPerPage }}. {{ notification.message }}\n            </v-list-item-title>\n          </v-list-item-content>\n          <v-list-item-action>\n            <v-btn icon @click=\"viewDetail(notification)\">\n              <v-icon>mdi-arrow-right-bold-circle-outline</v-icon>\n            </v-btn>\n          </v-list-item-action>\n        </v-list-item>\n      </v-list>\n  \n      <!-- 페이지네이션 -->\n      <v-row justify=\"center\" class=\"mt-4\">\n        <v-pagination\n          v-model=\"currentPage\"\n          :length=\"totalPages\"\n          @input=\"debouncedFetchNotifications\"\n        ></v-pagination>\n      </v-row>\n    </v-container>\n  </template>\n  \n  <script>\n  import axios from 'axios';\n  import _ from 'lodash';\n  \n  export default {\n    data() {\n      return {\n        notifications: [],\n        currentPage: 1,\n        itemsPerPage: 20,\n        totalPages: 1,\n      };\n    },\n    created() {\n      this.fetchNotifications();\n      this.debouncedFetchNotifications = _.debounce(this.fetchNotifications, 300);\n    },\n    computed: {\n      paginatedNotifications() {\n        const start = (this.currentPage - 1) * this.itemsPerPage;\n        const end = start + this.itemsPerPage;\n        return this.notifications.slice(start, end);\n      },\n    },\n    methods: {\n      async fetchNotifications() {\n        try {\n          const response = await axios.get(`${process.env.VUE_APP_API_BASE_URL}/user/notification`);\n          if (response.status === 200) {\n            this.notifications = response.data.result;\n            this.totalPages = Math.ceil(this.notifications.length / this.itemsPerPage);\n          } else {\n            console.error('알림 목록을 불러오는 데 실패했습니다:', response.data.message || response.statusText);\n          }\n        } catch (error) {\n          console.error('알림 목록을 불러오는 중 오류가 발생했습니다:', error);\n        }\n      },\n      viewDetail(notification) {\n        if (notification.qnaId) {\n          this.$router.push(`/qna/detail/${notification.qnaId}`);\n        } else if (notification.postId) {\n          this.$router.push(`/post/detail/${notification.postId}`);\n        } else if (notification.reportId) {\n          this.$router.push(`/report/detail/${notification.reportId}`);\n        }\n      },\n    },\n  };\n  </script>\n  \n  <style scoped>\n  .v-container {\n    max-width: 800px;\n    margin: 0 auto;\n  }\n  \n  .notification-item {\n    border-bottom: 1px solid #e0e0e0;\n    transition: background-color 0.2s;\n  }\n  \n  .notification-item:hover {\n    background-color: #f5f5f5;\n  }\n  \n  .v-list-item-title {\n    font-size: 16px;\n    color: #424242;\n  }\n  \n  .v-list-item-action .v-btn {\n    color: #1e88e5;\n  }\n  \n  .v-pagination {\n    margin-top: 20px;\n  }\n  </style>\n  "],"mappings":";;gEAEMA,mBAAA,CAAoD;EAAhDC,KAAK,EAAC;AAA+B,GAAC,OAAK;;;;;;;;;;;;uBADjDC,YAAA,CA8BcC,sBAAA;IA9BDF,KAAK,EAAC;EAAM;IAD7BG,OAAA,EAAAC,QAAA,CAEM,MAAoD,CAApDC,UAAoD,EAEpDC,YAAA,CAiBSC,iBAAA;MAjBD,UAAQ,EAAR;IAAQ;MAJtBJ,OAAA,EAAAC,QAAA,CAMU,MAAuD,E,kBADzDI,mBAAA,CAecC,SAAA,QApBtBC,WAAA,CAM0CC,QAAA,CAAAC,sBAAsB,EANhE,CAMkBC,YAAY,EAAEC,KAAK;6BAD7Bb,YAAA,CAecc,sBAAA;UAbXC,GAAG,EAAEH,YAAY,CAACI,EAAE;UACrBjB,KAAK,EAAC;;UARhBG,OAAA,EAAAC,QAAA,CAUU,MAIsB,CAJtBE,YAAA,CAIsBY,8BAAA;YAdhCf,OAAA,EAAAC,QAAA,CAWY,MAEoB,CAFpBE,YAAA,CAEoBa,4BAAA;cAFDnB,KAAK,EAAC;YAAoB;cAXzDG,OAAA,EAAAC,QAAA,CAYc,MAAkD,CAZhEgB,gBAAA,CAAAC,gBAAA,CAYiBP,KAAK,QAAQQ,KAAA,CAAAC,WAAW,QAAQD,KAAA,CAAAE,YAAY,IAAG,IAAE,GAAAH,gBAAA,CAAGR,YAAY,CAACY,OAAO,iB;cAZzFC,CAAA;;YAAAA,CAAA;wCAeUpB,YAAA,CAIqBqB,6BAAA;YAnB/BxB,OAAA,EAAAC,QAAA,CAgBY,MAEQ,CAFRE,YAAA,CAEQsB,gBAAA;cAFDC,IAAI,EAAJ,EAAI;cAAEC,OAAK,EAAAC,MAAA,IAAEpB,QAAA,CAAAqB,UAAU,CAACnB,YAAY;;cAhBvDV,OAAA,EAAAC,QAAA,CAiBc,MAAoD,CAApDE,YAAA,CAAoD2B,iBAAA;gBAjBlE9B,OAAA,EAAAC,QAAA,CAiBsB,MAAmC,CAjBzDgB,gBAAA,CAiBsB,qCAAmC,E;gBAjBzDM,CAAA;;cAAAA,CAAA;;YAAAA,CAAA;;UAAAA,CAAA;;;MAAAA,CAAA;QAuBMQ,mBAAA,YAAe,EACf5B,YAAA,CAMQ6B,gBAAA;MANDC,OAAO,EAAC,QAAQ;MAACpC,KAAK,EAAC;;MAxBpCG,OAAA,EAAAC,QAAA,CAyBQ,MAIgB,CAJhBE,YAAA,CAIgB+B,uBAAA;QA7BxBC,UAAA,EA0BmBhB,KAAA,CAAAC,WAAW;QA1B9B,uBAAAgB,MAAA,QAAAA,MAAA,MAAAR,MAAA,IA0BmBT,KAAA,CAAAC,WAAW,GAAAQ,MAAA;QACnBS,MAAM,EAAElB,KAAA,CAAAmB,UAAU;QAClBC,OAAK,EAAEC,IAAA,CAAAC;;MA5BlBlB,CAAA;;IAAAA,CAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}