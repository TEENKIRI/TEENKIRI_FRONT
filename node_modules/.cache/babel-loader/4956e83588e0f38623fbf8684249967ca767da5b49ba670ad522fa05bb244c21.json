{"ast":null,"code":"import axios from 'axios';\nexport default {\n  name: \"PasswordResetPage\",\n  data() {\n    return {\n      email: \"\"\n    };\n  },\n  methods: {\n    async sendResetLink() {\n      if (!this.email) {\n        alert('이메일을 입력해주세요.');\n        return;\n      }\n\n      // JWT 토큰을 가져오는 로직이 필요함 (예: 로컬 스토리지 또는 Vuex에서)\n\n      const token = localStorage.getItem('token');\n      console.log(token);\n      try {\n        const response = await axios.post(`${process.env.VUE_APP_API_BASE_URL}/find-password`, {\n          email: this.email\n        }, {\n          headers: {\n            'Authorization': `Bearer ${token}`,\n            'Content-Type': 'application/json'\n          }\n        });\n        alert('비밀번호 재설정 링크가 이메일로 발송되었습니다.');\n        console.log(response);\n      } catch (e) {\n        console.log(e.response);\n        alert('비밀번호 재설정 요청에 실패하였습니다.');\n        const error_message = e.response?.data?.status_message || '알 수 없는 오류가 발생했습니다.';\n        alert(error_message);\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","name","data","email","methods","sendResetLink","alert","token","localStorage","getItem","console","log","response","post","process","env","VUE_APP_API_BASE_URL","headers","e","error_message","status_message"],"sources":["/Users/milcho/Project/TEENKIRI/teenkiri_front/teenkiri_front/src/views/FindPasswordPage.vue"],"sourcesContent":["<template>\n  <v-container>\n    <v-row justify=\"center\">\n      <v-col cols=\"12\" sm=\"6\" md=\"8\">\n        <v-card>\n          <v-card-title class=\"text-h5 text-center\">비밀번호 찾기</v-card-title>\n          <v-card-text>\n            <v-form @submit.prevent=\"sendResetLink\">\n              <v-text-field\n                label=\"이메일 주소\"\n                v-model=\"email\"\n                type=\"email\"\n                prepend-icon=\"mdi-email\"\n                required\n              ></v-text-field>\n              <v-btn block type=\"submit\" color=\"primary\">비밀번호 재설정 링크 보내기</v-btn>\n              <v-divider class=\"my-4\"></v-divider>\n              <v-btn block @click=\"$router.push('/login')\" color=\"secondary\">로그인 페이지로 돌아가기</v-btn>\n            </v-form>\n          </v-card-text>\n        </v-card>\n      </v-col>\n    </v-row>\n  </v-container>\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n  name: \"PasswordResetPage\",\n  data() {\n    return {\n      email: \"\"\n    };\n  },\n  methods: {\n    async sendResetLink() {\n      if (!this.email) {\n        alert('이메일을 입력해주세요.');\n        return;\n      }\n\n      // JWT 토큰을 가져오는 로직이 필요함 (예: 로컬 스토리지 또는 Vuex에서)\n      \n      const token = localStorage.getItem('token');\n      console.log(token);\n\n\n      try {\n        const response = await axios.post(\n  `${process.env.VUE_APP_API_BASE_URL}/find-password`,\n  { email: this.email },\n  {\n    headers: {\n      'Authorization': `Bearer ${token}`,\n      'Content-Type': 'application/json'\n    }\n  }\n);\n\n        alert('비밀번호 재설정 링크가 이메일로 발송되었습니다.');\n        console.log(response);\n      } catch (e) {\n        console.log(e.response);\n        alert('비밀번호 재설정 요청에 실패하였습니다.');\n        const error_message = e.response?.data?.status_message || '알 수 없는 오류가 발생했습니다.';\n        alert(error_message);\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\n/* 스타일은 필요에 따라 조정하세요 */\n</style>\n"],"mappings":"AA2BA,OAAOA,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,IAAI,EAAE,mBAAmB;EACzBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,KAAK,EAAE;IACT,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACP,MAAMC,aAAaA,CAAA,EAAG;MACpB,IAAI,CAAC,IAAI,CAACF,KAAK,EAAE;QACfG,KAAK,CAAC,cAAc,CAAC;QACrB;MACF;;MAEA;;MAEA,MAAMC,KAAI,GAAIC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;MAC3CC,OAAO,CAACC,GAAG,CAACJ,KAAK,CAAC;MAGlB,IAAI;QACF,MAAMK,QAAO,GAAI,MAAMZ,KAAK,CAACa,IAAI,CACvC,GAAGC,OAAO,CAACC,GAAG,CAACC,oBAAoB,gBAAgB,EACnD;UAAEb,KAAK,EAAE,IAAI,CAACA;QAAM,CAAC,EACrB;UACEc,OAAO,EAAE;YACP,eAAe,EAAE,UAAUV,KAAK,EAAE;YAClC,cAAc,EAAE;UAClB;QACF,CACF,CAAC;QAEOD,KAAK,CAAC,4BAA4B,CAAC;QACnCI,OAAO,CAACC,GAAG,CAACC,QAAQ,CAAC;MACvB,EAAE,OAAOM,CAAC,EAAE;QACVR,OAAO,CAACC,GAAG,CAACO,CAAC,CAACN,QAAQ,CAAC;QACvBN,KAAK,CAAC,uBAAuB,CAAC;QAC9B,MAAMa,aAAY,GAAID,CAAC,CAACN,QAAQ,EAAEV,IAAI,EAAEkB,cAAa,IAAK,oBAAoB;QAC9Ed,KAAK,CAACa,aAAa,CAAC;MACtB;IACF;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}