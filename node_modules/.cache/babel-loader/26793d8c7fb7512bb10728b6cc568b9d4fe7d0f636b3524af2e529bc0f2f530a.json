{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nexport default {\n  data() {\n    return {\n      wishlist: [],\n      loading: false,\n      error: null\n    };\n  },\n  async created() {\n    await this.fetchWishlist();\n  },\n  methods: {\n    async fetchWishlist() {\n      this.loading = true;\n      this.error = null;\n      try {\n        const response = await axios.get(`${process.env.VUE_APP_API_BASE_URL}/user/wishlist`);\n        console.log(response.data);\n        if (response.status === 200 && response.data) {\n          this.wishlist = response.data.result || [];\n        } else {\n          console.error('응답 데이터가 없습니다.');\n        }\n      } catch (error) {\n        console.error('위시리스트 불러오기 오류:', error.response ? error.response.data.message : error.message);\n        this.error = error.response ? error.response.data.message : error.message;\n      } finally {\n        this.loading = false;\n      }\n    },\n    async removeFromWishlist(id) {\n      try {\n        const token = localStorage.getItem('token');\n        const response = await axios.delete(`${process.env.VUE_APP_API_BASE_URL}/wish/${id}`, {\n          headers: {\n            'Authorization': `Bearer ${token}`\n          }\n        });\n        if (response.status === 200) {\n          this.fetchWishlist(); // 삭제 후 위시리스트를 다시 불러옴\n        } else {\n          console.error('찜 삭제 실패:', response.data.message);\n        }\n      } catch (error) {\n        console.error('찜 삭제 중 오류 발생:', error.response ? error.response.data.message : error.message);\n      }\n    },\n    goToSubjectDetail(id) {\n      this.$router.push({\n        name: 'SubjectDetail',\n        params: {\n          id\n        }\n      });\n    }\n  }\n};","map":{"version":3,"names":["axios","data","wishlist","loading","error","created","fetchWishlist","methods","response","get","process","env","VUE_APP_API_BASE_URL","console","log","status","result","message","removeFromWishlist","id","token","localStorage","getItem","delete","headers","goToSubjectDetail","$router","push","name","params"],"sources":["/Users/milcho/Project/TEENKIRI/teenkiri_front/teenkiri_front/src/views/user/WishListPage.vue"],"sourcesContent":["<template>\n  <v-app>\n    <v-container>\n      <v-row class=\"wishlist-header\">\n        <v-col>\n          <h1>내 위시리스트</h1>\n        </v-col>\n      </v-row>\n      <v-row v-if=\"wishlist.length > 0\">\n        <v-col\n          v-for=\"item in wishlist\"\n          :key=\"item.id\"\n          cols=\"12\" sm=\"6\" md=\"4\"\n        >\n          <v-card \n            class=\"ma-4\" \n            :elevation=\"4\" \n            @click=\"goToSubjectDetail(item.id)\" \n            style=\"cursor: pointer;\"\n          >\n            <v-card-title>\n              강좌 명 : {{ item.title || '제목 없음' }}\n            </v-card-title>\n            <v-card-subtitle>\n              선생님: {{ item.teacherName || '선생님 정보 없음' }}\n            </v-card-subtitle>\n            <v-card-actions>\n              <v-btn @click.stop=\"removeFromWishlist(item.id)\" color=\"red\">제거</v-btn>\n            </v-card-actions>\n          </v-card>\n        </v-col>\n      </v-row>\n      <v-row v-else>\n        <v-col>\n          <v-alert type=\"info\" :value=\"true\">\n            위시리스트에 항목이 없습니다.\n          </v-alert>\n        </v-col>\n      </v-row>\n      <v-row v-if=\"loading\" justify=\"center\">\n        <v-progress-circular indeterminate color=\"primary\"></v-progress-circular>\n      </v-row>\n      <v-row v-if=\"error\" justify=\"center\">\n        <v-alert type=\"error\" :value=\"true\">\n          {{ error }}\n        </v-alert>\n      </v-row>\n    </v-container>\n  </v-app>\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n  data() {\n    return {\n      wishlist: [],\n      loading: false,\n      error: null\n    };\n  },\n  async created() {\n    await this.fetchWishlist();\n  },\n  methods: {\n    async fetchWishlist() {\n      this.loading = true;\n      this.error = null;\n      try {\n        const response = await axios.get(`${process.env.VUE_APP_API_BASE_URL}/user/wishlist`);\n        console.log(response.data);\n\n        if (response.status === 200 && response.data) {\n          this.wishlist = response.data.result || [];\n        } else {\n          console.error('응답 데이터가 없습니다.');\n        }\n      } catch (error) {\n        console.error('위시리스트 불러오기 오류:', error.response ? error.response.data.message : error.message);\n        this.error = error.response ? error.response.data.message : error.message;\n      } finally {\n        this.loading = false;\n      }\n    },\n    async removeFromWishlist(id) {\n      try {\n        const token = localStorage.getItem('token');\n        const response = await axios.delete(`${process.env.VUE_APP_API_BASE_URL}/wish/${id}`, {\n          headers: {\n            'Authorization': `Bearer ${token}`\n          }\n        });\n\n        if (response.status === 200) {\n          this.fetchWishlist(); // 삭제 후 위시리스트를 다시 불러옴\n        } else {\n          console.error('찜 삭제 실패:', response.data.message);\n        }\n      } catch (error) {\n        console.error('찜 삭제 중 오류 발생:', error.response ? error.response.data.message : error.message);\n      }\n    },\n    goToSubjectDetail(id) {\n      this.$router.push({ name: 'SubjectDetail', params: { id } });\n    }\n  }\n};\n</script>\n\n<style scoped>\n.wishlist-header {\n  margin-bottom: 20px;\n}\n\n.v-card {\n  max-width: 400px;\n  margin: auto;\n}\n\n.v-card-title {\n  font-weight: bold;\n}\n\n.v-card-subtitle {\n  color: #757575;\n}\n\n.v-btn {\n  margin-top: 10px;\n}\n</style>\n"],"mappings":";AAoDA,OAAOA,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,QAAQ,EAAE,EAAE;MACZC,OAAO,EAAE,KAAK;MACdC,KAAK,EAAE;IACT,CAAC;EACH,CAAC;EACD,MAAMC,OAAOA,CAAA,EAAG;IACd,MAAM,IAAI,CAACC,aAAa,CAAC,CAAC;EAC5B,CAAC;EACDC,OAAO,EAAE;IACP,MAAMD,aAAaA,CAAA,EAAG;MACpB,IAAI,CAACH,OAAM,GAAI,IAAI;MACnB,IAAI,CAACC,KAAI,GAAI,IAAI;MACjB,IAAI;QACF,MAAMI,QAAO,GAAI,MAAMR,KAAK,CAACS,GAAG,CAAC,GAAGC,OAAO,CAACC,GAAG,CAACC,oBAAoB,gBAAgB,CAAC;QACrFC,OAAO,CAACC,GAAG,CAACN,QAAQ,CAACP,IAAI,CAAC;QAE1B,IAAIO,QAAQ,CAACO,MAAK,KAAM,GAAE,IAAKP,QAAQ,CAACP,IAAI,EAAE;UAC5C,IAAI,CAACC,QAAO,GAAIM,QAAQ,CAACP,IAAI,CAACe,MAAK,IAAK,EAAE;QAC5C,OAAO;UACLH,OAAO,CAACT,KAAK,CAAC,eAAe,CAAC;QAChC;MACF,EAAE,OAAOA,KAAK,EAAE;QACdS,OAAO,CAACT,KAAK,CAAC,gBAAgB,EAAEA,KAAK,CAACI,QAAO,GAAIJ,KAAK,CAACI,QAAQ,CAACP,IAAI,CAACgB,OAAM,GAAIb,KAAK,CAACa,OAAO,CAAC;QAC7F,IAAI,CAACb,KAAI,GAAIA,KAAK,CAACI,QAAO,GAAIJ,KAAK,CAACI,QAAQ,CAACP,IAAI,CAACgB,OAAM,GAAIb,KAAK,CAACa,OAAO;MAC3E,UAAU;QACR,IAAI,CAACd,OAAM,GAAI,KAAK;MACtB;IACF,CAAC;IACD,MAAMe,kBAAkBA,CAACC,EAAE,EAAE;MAC3B,IAAI;QACF,MAAMC,KAAI,GAAIC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;QAC3C,MAAMd,QAAO,GAAI,MAAMR,KAAK,CAACuB,MAAM,CAAC,GAAGb,OAAO,CAACC,GAAG,CAACC,oBAAoB,SAASO,EAAE,EAAE,EAAE;UACpFK,OAAO,EAAE;YACP,eAAe,EAAE,UAAUJ,KAAK;UAClC;QACF,CAAC,CAAC;QAEF,IAAIZ,QAAQ,CAACO,MAAK,KAAM,GAAG,EAAE;UAC3B,IAAI,CAACT,aAAa,CAAC,CAAC,EAAE;QACxB,OAAO;UACLO,OAAO,CAACT,KAAK,CAAC,UAAU,EAAEI,QAAQ,CAACP,IAAI,CAACgB,OAAO,CAAC;QAClD;MACF,EAAE,OAAOb,KAAK,EAAE;QACdS,OAAO,CAACT,KAAK,CAAC,eAAe,EAAEA,KAAK,CAACI,QAAO,GAAIJ,KAAK,CAACI,QAAQ,CAACP,IAAI,CAACgB,OAAM,GAAIb,KAAK,CAACa,OAAO,CAAC;MAC9F;IACF,CAAC;IACDQ,iBAAiBA,CAACN,EAAE,EAAE;MACpB,IAAI,CAACO,OAAO,CAACC,IAAI,CAAC;QAAEC,IAAI,EAAE,eAAe;QAAEC,MAAM,EAAE;UAAEV;QAAG;MAAE,CAAC,CAAC;IAC9D;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}