{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass } from \"vue\";\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"h1\", null, \"티니키리 서비스가 추천하는 강좌 👍\", -1 /* HOISTED */);\nconst _hoisted_2 = {\n  class: \"swiper swiperLectureBest\"\n};\nconst _hoisted_3 = [\"onClick\"];\nconst _hoisted_4 = {\n  class: \"thumb\"\n};\nconst _hoisted_5 = {\n  href: \"javascript:void(0)\"\n};\nconst _hoisted_6 = [\"src\"];\nconst _hoisted_7 = {\n  class: \"txt\"\n};\nconst _hoisted_8 = {\n  class: \"subject\"\n};\nconst _hoisted_9 = {\n  class: \"name\"\n};\nconst _hoisted_10 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_v_btn = _resolveComponent(\"v-btn\");\n  const _component_v_col = _resolveComponent(\"v-col\");\n  const _component_v_row = _resolveComponent(\"v-row\");\n  const _component_v_card_title = _resolveComponent(\"v-card-title\");\n  const _component_v_card_text = _resolveComponent(\"v-card-text\");\n  const _component_v_card = _resolveComponent(\"v-card\");\n  const _component_v_pagination = _resolveComponent(\"v-pagination\");\n  const _component_v_container = _resolveComponent(\"v-container\");\n  return _openBlock(), _createBlock(_component_v_container, null, {\n    default: _withCtx(() => [_hoisted_1, _createVNode(_component_v_row, null, {\n      default: _withCtx(() => [_createVNode(_component_v_col, null, {\n        default: _withCtx(() => [this.user.role === 'ADMIN' ? (_openBlock(), _createBlock(_component_v_row, {\n          key: 0\n        }, {\n          default: _withCtx(() => [_createVNode(_component_v_col, {\n            class: \"d-flex flex-row\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_v_btn, {\n              onClick: _cache[0] || (_cache[0] = $event => _ctx.$router.push('/subject/create'))\n            }, {\n              default: _withCtx(() => [_createTextVNode(\"강좌 업로드\")]),\n              _: 1 /* STABLE */\n            })]),\n            _: 1 /* STABLE */\n          })]),\n          _: 1 /* STABLE */\n        })) : _createCommentVNode(\"v-if\", true)]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_v_row, null, {\n      default: _withCtx(() => [_createVNode(_component_v_card, {\n        class: \"w-100\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_v_card_title, null, {\n          default: _withCtx(() => [_createTextVNode(\"강좌 목록\")]),\n          _: 1 /* STABLE */\n        }), _createVNode(_component_v_card_text, null, {\n          default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_2, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.subject.subjectIsMainList, s => {\n            return _openBlock(), _createElementBlock(\"div\", {\n              class: \"swiper-slide\",\n              key: s.id,\n              onClick: $event => $options.goToDetail(s.id)\n            }, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"a\", _hoisted_5, [_createElementVNode(\"img\", {\n              src: s.subjectThumUrl,\n              alt: \"강좌 썸네일\"\n            }, null, 8 /* PROPS */, _hoisted_6)])]), _createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"p\", _hoisted_8, _toDisplayString(s.title), 1 /* TEXT */), _createElementVNode(\"p\", _hoisted_9, _toDisplayString(s.teacherName), 1 /* TEXT */)]), _createElementVNode(\"button\", {\n              type: \"button\",\n              class: _normalizeClass([\"btn_like\", {\n                'mdi mdi-heart': s.isSubscribe,\n                'mdi mdi-heart-outline': !s.isSubscribe\n              }]),\n              onClick: $event => $options.toggleWish(s.id, $event)\n            }, null, 10 /* CLASS, PROPS */, _hoisted_10)], 8 /* PROPS */, _hoisted_3);\n          }), 128 /* KEYED_FRAGMENT */))])]),\n          _: 1 /* STABLE */\n        })]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    }), _createCommentVNode(\" 페이지네이션 \"), _createVNode(_component_v_pagination, {\n      modelValue: $data.subject.page.currentPage,\n      \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.subject.page.currentPage = $event),\n      length: $data.totalPages,\n      onInput: $options.getSubjectMainList,\n      class: \"my-4\"\n    }, null, 8 /* PROPS */, [\"modelValue\", \"length\", \"onInput\"])]),\n    _: 1 /* STABLE */\n  });\n}","map":{"version":3,"names":["_createElementVNode","class","href","_createBlock","_component_v_container","default","_withCtx","_hoisted_1","_createVNode","_component_v_row","_component_v_col","user","role","key","_component_v_btn","onClick","_cache","$event","_ctx","$router","push","_createTextVNode","_","_createCommentVNode","_component_v_card","_component_v_card_title","_component_v_card_text","_hoisted_2","_createElementBlock","_Fragment","_renderList","$data","subject","subjectIsMainList","s","id","$options","goToDetail","_hoisted_4","_hoisted_5","src","subjectThumUrl","alt","_hoisted_6","_hoisted_7","_hoisted_8","_toDisplayString","title","_hoisted_9","teacherName","type","_normalizeClass","isSubscribe","toggleWish","_hoisted_10","_hoisted_3","_component_v_pagination","modelValue","page","currentPage","length","totalPages","onInput","getSubjectMainList"],"sources":["/Users/milcho/Project/TEENKIRI/teenkiri_front/teenkiri_front/src/views/subject/SubjectRecommendList.vue"],"sourcesContent":["<template>\n  <v-container>\n    <h1>티니키리 서비스가 추천하는 강좌 👍</h1>\n    \n    <v-row>\n      <v-col>\n        <v-row v-if=\"this.user.role === 'ADMIN'\">\n          <v-col class=\"d-flex flex-row\">\n            <v-btn @click=\"$router.push('/subject/create')\">강좌 업로드</v-btn>\n          </v-col>\n        </v-row>\n      </v-col>\n    </v-row>\n    \n    <v-row>\n      <v-card class=\"w-100\">\n        <v-card-title>강좌 목록</v-card-title>\n        <v-card-text>\n          <div class=\"swiper swiperLectureBest\">\n            <div\n              class=\"swiper-slide\"\n              v-for=\"s in subject.subjectIsMainList\"\n              :key=\"s.id\"\n              @click=\"goToDetail(s.id)\"\n            >\n              <div class=\"thumb\">\n                <a href=\"javascript:void(0)\">\n                  <img v-bind:src=\"s.subjectThumUrl\" alt=\"강좌 썸네일\" />\n                </a>\n              </div>\n              <div class=\"txt\">\n                <p class=\"subject\">{{ s.title }}</p>\n                <p class=\"name\">{{ s.teacherName }}</p>\n              </div>\n              <button\n                type=\"button\"\n                class=\"btn_like\"\n                @click=\"toggleWish(s.id, $event)\"\n                :class=\"{\n                  'mdi mdi-heart': s.isSubscribe,\n                  'mdi mdi-heart-outline': !s.isSubscribe,\n                }\"\n              ></button>\n            </div>\n          </div>\n        </v-card-text>\n      </v-card>\n    </v-row>\n\n    <!-- 페이지네이션 -->\n    <v-pagination\n      v-model=\"subject.page.currentPage\"\n      :length=\"totalPages\"\n      @input=\"getSubjectMainList\"\n      class=\"my-4\"\n    ></v-pagination>\n  </v-container>\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n  data() {\n    return {\n      user: {},\n      subject: {\n        subjectIsMainList: [],\n        page: {\n          pageSize: 1,\n          currentPage: 1, \n        },\n      },\n      totalPages: 1,\n    };\n  },\n  async created() {\n    try {\n      await this.$store.dispatch('setUserAllInfoActions');\n      this.user = this.$store.getters.getUserObj;\n    } catch (error) {\n      console.error('사용자 정보를 가져오는 중 오류가 발생했습니다:', error);\n    }\n    this.getSubjectMainList();\n  },\n  methods: {\n    async getSubjectMainList() {\n      try {\n        const params = {\n          size: this.subject.page.pageSize,\n          page: this.subject.page.currentPage - 1, // API 요청은 0부터 시작\n        };\n        \n        const response = await axios.get(`${process.env.VUE_APP_API_BASE_URL}/subject/main/list`, { params });\n        this.subject.subjectIsMainList = response.data.result.content;\n        this.totalPages = response.data.result.totalPages;\n      } catch (e) {\n        console.error(e);\n      }\n    },\n    goToDetail(id) {\n      this.$router.push({ name: 'SubjectDetail', params: { id } });\n    },\n    async toggleWish(id, event) {\n      event.stopPropagation(); // 이벤트 전파 방지\n      console.log('클릭!!', id);\n      if (Object.keys(this.user).length > 0) { // 로그인 한 유저\n        try {\n          const response = await axios.get(`${process.env.VUE_APP_API_BASE_URL}/wish/toggle/${id}`);\n          const subject = this.subject.subjectIsMainList.find(sm => sm.id === id);\n          if (subject) {\n            subject.isSubscribe = response.data.result.status;\n          }\n        } catch (error) {\n          alert('찜 추가 실패');\n          console.error(error);\n        }\n      } else {\n        alert('로그인 후 사용 가능합니다.');\n      }\n    },\n  },\n};\n</script>\n\n<style>\n.select-small .v-select {\n  min-height: 32px;\n  max-height: 32px;\n  font-size: 14px;\n  line-height: 32px;\n}\n\n.v-btn + .v-btn {\n  margin-left: 16px;\n}\n</style>\n"],"mappings":";;gCAEIA,mBAAA,CAA6B,YAAzB,sBAAoB;;EAgBbC,KAAK,EAAC;AAA0B;mBAlB/C;;EAyBmBA,KAAK,EAAC;AAAO;;EACbC,IAAI,EAAC;AAAoB;mBA1B5C;;EA8BmBD,KAAK,EAAC;AAAK;;EACXA,KAAK,EAAC;AAAS;;EACfA,KAAK,EAAC;AAAM;oBAhC/B;;;;;;;;;;uBACEE,YAAA,CAuDcC,sBAAA;IAxDhBC,OAAA,EAAAC,QAAA,CAEI,MAA6B,CAA7BC,UAA6B,EAE7BC,YAAA,CAQQC,gBAAA;MAZZJ,OAAA,EAAAC,QAAA,CAKM,MAMQ,CANRE,YAAA,CAMQE,gBAAA;QAXdL,OAAA,EAAAC,QAAA,CAMQ,MAIQ,C,KAJUK,IAAI,CAACC,IAAI,gB,cAA3BT,YAAA,CAIQM,gBAAA;UAVhBI,GAAA;QAAA;UAAAR,OAAA,EAAAC,QAAA,CAOU,MAEQ,CAFRE,YAAA,CAEQE,gBAAA;YAFDT,KAAK,EAAC;UAAiB;YAPxCI,OAAA,EAAAC,QAAA,CAQY,MAA8D,CAA9DE,YAAA,CAA8DM,gBAAA;cAAtDC,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEC,IAAA,CAAAC,OAAO,CAACC,IAAI;;cARvCf,OAAA,EAAAC,QAAA,CAQ4D,MAAM,CARlEe,gBAAA,CAQ4D,QAAM,E;cARlEC,CAAA;;YAAAA,CAAA;;UAAAA,CAAA;cAAAC,mBAAA,e;QAAAD,CAAA;;MAAAA,CAAA;QAcId,YAAA,CAiCQC,gBAAA;MA/CZJ,OAAA,EAAAC,QAAA,CAeM,MA+BS,CA/BTE,YAAA,CA+BSgB,iBAAA;QA/BDvB,KAAK,EAAC;MAAO;QAf3BI,OAAA,EAAAC,QAAA,CAgBQ,MAAkC,CAAlCE,YAAA,CAAkCiB,uBAAA;UAhB1CpB,OAAA,EAAAC,QAAA,CAgBsB,MAAK,CAhB3Be,gBAAA,CAgBsB,OAAK,E;UAhB3BC,CAAA;YAiBQd,YAAA,CA4BckB,sBAAA;UA7CtBrB,OAAA,EAAAC,QAAA,CAkBU,MA0BM,CA1BNN,mBAAA,CA0BM,OA1BN2B,UA0BM,I,kBAzBJC,mBAAA,CAwBMC,SAAA,QA3ClBC,WAAA,CAqB0BC,KAAA,CAAAC,OAAO,CAACC,iBAAiB,EAA9BC,CAAC;iCAFVN,mBAAA,CAwBM;cAvBJ3B,KAAK,EAAC,cAAc;cAEnBY,GAAG,EAAEqB,CAAC,CAACC,EAAE;cACTpB,OAAK,EAAAE,MAAA,IAAEmB,QAAA,CAAAC,UAAU,CAACH,CAAC,CAACC,EAAE;gBAEvBnC,mBAAA,CAIM,OAJNsC,UAIM,GAHJtC,mBAAA,CAEI,KAFJuC,UAEI,GADFvC,mBAAA,CAAkD;cAAtCwC,GAAG,EAAEN,CAAC,CAACO,cAAc;cAAEC,GAAG,EAAC;oCA3BzDC,UAAA,E,KA8Bc3C,mBAAA,CAGM,OAHN4C,UAGM,GAFJ5C,mBAAA,CAAoC,KAApC6C,UAAoC,EAAAC,gBAAA,CAAdZ,CAAC,CAACa,KAAK,kBAC7B/C,mBAAA,CAAuC,KAAvCgD,UAAuC,EAAAF,gBAAA,CAApBZ,CAAC,CAACe,WAAW,iB,GAElCjD,mBAAA,CAQU;cAPRkD,IAAI,EAAC,QAAQ;cACbjD,KAAK,EApCrBkD,eAAA,EAoCsB,UAAU;iCAE6BjB,CAAC,CAACkB,WAAW;0CAA8ClB,CAAC,CAACkB;;cADzGrC,OAAK,EAAAE,MAAA,IAAEmB,QAAA,CAAAiB,UAAU,CAACnB,CAAC,CAACC,EAAE,EAAElB,MAAM;4CArC/CqC,WAAA,E,iBAAAC,UAAA;;UAAAjC,CAAA;;QAAAA,CAAA;;MAAAA,CAAA;QAiDIC,mBAAA,YAAe,EACff,YAAA,CAKgBgD,uBAAA;MAvDpBC,UAAA,EAmDe1B,KAAA,CAAAC,OAAO,CAAC0B,IAAI,CAACC,WAAW;MAnDvC,uBAAA3C,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAmDec,KAAA,CAAAC,OAAO,CAAC0B,IAAI,CAACC,WAAW,GAAA1C,MAAA;MAChC2C,MAAM,EAAE7B,KAAA,CAAA8B,UAAU;MAClBC,OAAK,EAAE1B,QAAA,CAAA2B,kBAAkB;MAC1B9D,KAAK,EAAC;;IAtDZqB,CAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}