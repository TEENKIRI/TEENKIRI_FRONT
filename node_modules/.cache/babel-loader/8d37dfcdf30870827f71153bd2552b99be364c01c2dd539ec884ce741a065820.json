{"ast":null,"code":"import { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-60738bad\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  key: 0\n};\nconst _hoisted_2 = {\n  key: 1\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_v_toolbar_title = _resolveComponent(\"v-toolbar-title\");\n  const _component_v_divider = _resolveComponent(\"v-divider\");\n  const _component_v_spacer = _resolveComponent(\"v-spacer\");\n  const _component_v_btn = _resolveComponent(\"v-btn\");\n  const _component_v_toolbar = _resolveComponent(\"v-toolbar\");\n  const _component_v_data_table = _resolveComponent(\"v-data-table\");\n  const _component_v_col = _resolveComponent(\"v-col\");\n  const _component_v_row = _resolveComponent(\"v-row\");\n  const _component_v_container = _resolveComponent(\"v-container\");\n  return _openBlock(), _createBlock(_component_v_container, null, {\n    default: _withCtx(() => [_createVNode(_component_v_row, null, {\n      default: _withCtx(() => [_createVNode(_component_v_col, {\n        cols: \"12\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_v_data_table, {\n          headers: $data.headers,\n          items: $data.questions,\n          loading: $data.loading,\n          \"server-items-length\": $data.totalQuestions,\n          options: $data.options,\n          \"items-per-page\": $data.options.itemsPerPage,\n          class: \"elevation-1\"\n        }, {\n          top: _withCtx(() => [_createVNode(_component_v_toolbar, {\n            flat: \"\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_v_toolbar_title, null, {\n              default: _withCtx(() => [_createTextVNode(\"질문 목록\")]),\n              _: 1 /* STABLE */\n            }), _createVNode(_component_v_divider, {\n              class: \"mx-4\",\n              inset: \"\",\n              vertical: \"\"\n            }), _createVNode(_component_v_spacer), _createVNode(_component_v_btn, {\n              onClick: $options.fetchQuestions\n            }, {\n              default: _withCtx(() => [_createTextVNode(\"새로고침\")]),\n              _: 1 /* STABLE */\n            }, 8 /* PROPS */, [\"onClick\"])]),\n            _: 1 /* STABLE */\n          })]),\n          \"item.answerText\": _withCtx(({\n            item\n          }) => [item.answerText ? (_openBlock(), _createElementBlock(\"span\", _hoisted_1, _toDisplayString(item.answerText), 1 /* TEXT */)) : (_openBlock(), _createElementBlock(\"span\", _hoisted_2, \"답변 없음\"))]),\n          \"item.createdTime\": _withCtx(({\n            item\n          }) => [_createTextVNode(_toDisplayString($options.formatDate(item.createdTime)), 1 /* TEXT */)]),\n          _: 1 /* STABLE */\n        }, 8 /* PROPS */, [\"headers\", \"items\", \"loading\", \"server-items-length\", \"options\", \"items-per-page\"])]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    })]),\n    _: 1 /* STABLE */\n  });\n}","map":{"version":3,"names":["key","_createBlock","_component_v_container","default","_withCtx","_createVNode","_component_v_row","_component_v_col","cols","_component_v_data_table","headers","$data","items","questions","loading","totalQuestions","options","itemsPerPage","class","top","_component_v_toolbar","flat","_component_v_toolbar_title","_createTextVNode","_","_component_v_divider","inset","vertical","_component_v_spacer","_component_v_btn","onClick","$options","fetchQuestions","item","answerText","_createElementBlock","_hoisted_1","_toDisplayString","_hoisted_2","formatDate","createdTime"],"sources":["/Users/milcho/Project/TEENKIRI/teenkiri_front/teenkiri_front/src/views/qna/QnaList.vue"],"sourcesContent":["<template>\n    <v-container>\n      <v-row>\n        <v-col cols=\"12\">\n          <v-data-table\n            :headers=\"headers\"\n            :items=\"questions\"\n            :loading=\"loading\"\n            :server-items-length=\"totalQuestions\"\n            :options.sync=\"options\"\n            :items-per-page=\"options.itemsPerPage\"\n            class=\"elevation-1\"\n          >\n            <template v-slot:top>\n              <v-toolbar flat>\n                <v-toolbar-title>질문 목록</v-toolbar-title>\n                <v-divider class=\"mx-4\" inset vertical></v-divider>\n                <v-spacer></v-spacer>\n                <v-btn @click=\"fetchQuestions\">새로고침</v-btn>\n              </v-toolbar>\n            </template>\n            <template v-slot:item.answerText=\"{ item }\">\n              <span v-if=\"item.answerText\">{{ item.answerText }}</span>\n              <span v-else>답변 없음</span>\n            </template>\n            <template v-slot:item.createdTime=\"{ item }\">\n              {{ formatDate(item.createdTime) }}\n            </template>\n          </v-data-table>\n        </v-col>\n      </v-row>\n    </v-container>\n  </template>\n  \n  <script>\n  import axios from 'axios';\n  \n  export default {\n    data() {\n      return {\n        questions: [],\n        totalQuestions: 0,\n        loading: false,\n        headers: [\n          { text: 'ID', value: 'id' },\n          { text: '사용자 이름', value: 'questionUserName' },\n          { text: '제목', value: 'title' },\n          { text: '작성 시간', value: 'createdTime' },\n          { text: '답변', value: 'answerText' },\n          { text: '이미지', value: 'qImageUrl' }\n        ],\n        options: {\n          page: 1,\n          itemsPerPage: 10,\n          sortBy: ['createdTime'],\n          sortDesc: [true]\n        }\n      };\n    },\n    methods: {\n      async fetchQuestions() {\n        this.loading = true;\n        try {\n          const response = await axios.get(`${process.env.VUE_APP_API_BASE_URL}/qna/list`, {\n            params: {\n              page: this.options.page - 1, // Spring Boot 페이지 인덱스는 0부터 시작\n              size: this.options.itemsPerPage,\n              sort: `${this.options.sortBy[0]},${this.options.sortDesc[0] ? 'desc' : 'asc'}`\n            }\n          });\n          this.questions = response.data.data.content;\n          this.totalQuestions = response.data.data.totalElements;\n        } catch (error) {\n          console.error('질문 목록을 불러오는 중 오류가 발생했습니다.', error);\n        } finally {\n          this.loading = false;\n        }\n      },\n      formatDate(date) {\n        const options = { year: 'numeric', month: '2-digit', day: '2-digit', hour: '2-digit', minute: '2-digit' };\n        return new Date(date).toLocaleDateString('ko-KR', options);\n      }\n    },\n    watch: {\n      options: {\n        handler() {\n          this.fetchQuestions();\n        },\n        deep: true\n      }\n    },\n    mounted() {\n      this.fetchQuestions();\n    }\n  };\n  </script>\n  \n  <style scoped>\n  /* 여기에 필요한 스타일을 추가하세요 */\n  </style>\n  "],"mappings":";;;EAAAA,GAAA;AAAA;;EAAAA,GAAA;AAAA;;;;;;;;;;;uBACIC,YAAA,CA8BcC,sBAAA;IA/BlBC,OAAA,EAAAC,QAAA,CAEM,MA4BQ,CA5BRC,YAAA,CA4BQC,gBAAA;MA9BdH,OAAA,EAAAC,QAAA,CAGQ,MA0BQ,CA1BRC,YAAA,CA0BQE,gBAAA;QA1BDC,IAAI,EAAC;MAAI;QAHxBL,OAAA,EAAAC,QAAA,CAIU,MAwBe,CAxBfC,YAAA,CAwBeI,uBAAA;UAvBZC,OAAO,EAAEC,KAAA,CAAAD,OAAO;UAChBE,KAAK,EAAED,KAAA,CAAAE,SAAS;UAChBC,OAAO,EAAEH,KAAA,CAAAG,OAAO;UAChB,qBAAmB,EAAEH,KAAA,CAAAI,cAAc;UACnCC,OAAO,EAAOL,KAAA,CAAAK,OAAO;UACrB,gBAAc,EAAEL,KAAA,CAAAK,OAAO,CAACC,YAAY;UACrCC,KAAK,EAAC;;UAEWC,GAAG,EAAAf,QAAA,CAClB,MAKY,CALZC,YAAA,CAKYe,oBAAA;YALDC,IAAI,EAAJ;UAAI;YAd7BlB,OAAA,EAAAC,QAAA,CAegB,MAAwC,CAAxCC,YAAA,CAAwCiB,0BAAA;cAfxDnB,OAAA,EAAAC,QAAA,CAeiC,MAAK,CAftCmB,gBAAA,CAeiC,OAAK,E;cAftCC,CAAA;gBAgBgBnB,YAAA,CAAmDoB,oBAAA;cAAxCP,KAAK,EAAC,MAAM;cAACQ,KAAK,EAAL,EAAK;cAACC,QAAQ,EAAR;gBAC9BtB,YAAA,CAAqBuB,mBAAA,GACrBvB,YAAA,CAA2CwB,gBAAA;cAAnCC,OAAK,EAAEC,QAAA,CAAAC;YAAc;cAlB7C7B,OAAA,EAAAC,QAAA,CAkB+C,MAAI,CAlBnDmB,gBAAA,CAkB+C,MAAI,E;cAlBnDC,CAAA;;YAAAA,CAAA;;UAqB6B,iBAAe,EAAApB,QAAA,CAC9B,CAAyD;YADvB6B;UAAI,OAC1BA,IAAI,CAACC,UAAU,I,cAA3BC,mBAAA,CAAyD,QAtBvEC,UAAA,EAAAC,gBAAA,CAsB8CJ,IAAI,CAACC,UAAU,qB,cAC/CC,mBAAA,CAAyB,QAvBvCG,UAAA,EAuB2B,OAAK,G;UAEH,kBAAgB,EAAAlC,QAAA,CAC/B,CAAkC;YADC6B;UAAI,OAzBrDV,gBAAA,CAAAc,gBAAA,CA0BiBN,QAAA,CAAAQ,UAAU,CAACN,IAAI,CAACO,WAAW,kB;UA1B5ChB,CAAA;;QAAAA,CAAA;;MAAAA,CAAA;;IAAAA,CAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}