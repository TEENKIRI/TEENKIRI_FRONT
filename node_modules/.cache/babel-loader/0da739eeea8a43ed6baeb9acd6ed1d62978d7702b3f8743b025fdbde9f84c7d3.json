{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nimport _ from 'lodash';\nexport default {\n  data() {\n    return {\n      notifications: [],\n      currentPage: 1,\n      itemsPerPage: 20,\n      totalPages: 1\n    };\n  },\n  created() {\n    this.fetchNotifications();\n    this.debouncedFetchNotifications = _.debounce(this.fetchNotifications, 300);\n  },\n  computed: {\n    paginatedNotifications() {\n      const start = (this.currentPage - 1) * this.itemsPerPage;\n      const end = start + this.itemsPerPage;\n      return this.notifications.slice(start, end);\n    }\n  },\n  methods: {\n    async fetchNotifications() {\n      try {\n        const response = await axios.get(`${process.env.VUE_APP_API_BASE_URL}/user/notification`);\n        if (response.status === 200) {\n          this.notifications = response.data.result;\n          this.totalPages = Math.ceil(this.notifications.length / this.itemsPerPage);\n        } else {\n          console.error('알림 목록을 불러오는 데 실패했습니다:', response.data.message || response.statusText);\n        }\n      } catch (error) {\n        console.error('알림 목록을 불러오는 중 오류가 발생했습니다:', error);\n      }\n    },\n    viewDetail(notification) {\n      if (notification.qnaId) {\n        this.$router.push(`/qna/detail/${notification.qnaId}`);\n      } else if (notification.postId) {\n        this.$router.push(`/post/detail/${notification.postId}`);\n      } else if (notification.reportId) {\n        this.$router.push(`/report/detail/${notification.reportId}`);\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","_","data","notifications","currentPage","itemsPerPage","totalPages","created","fetchNotifications","debouncedFetchNotifications","debounce","computed","paginatedNotifications","start","end","slice","methods","response","get","process","env","VUE_APP_API_BASE_URL","status","result","Math","ceil","length","console","error","message","statusText","viewDetail","notification","qnaId","$router","push","postId","reportId"],"sources":["/Users/milcho/Project/TEENKIRI/teenkiri_front/teenkiri_front/src/views/user/UserNotificaion.vue"],"sourcesContent":["<template>\n    <v-container class=\"mt-5\">\n      <h2 class=\"text-h4 font-weight-bold mb-4\">알림 내역</h2>\n  \n      <v-list two-line>\n        <v-list-item\n          v-for=\"(notification, index) in paginatedNotifications\"\n          :key=\"notification.id\"\n          class=\"notification-item\"\n        >\n          <v-list-item-content>\n            <v-list-item-title class=\"font-weight-medium\">\n              {{ index + 1 + (currentPage - 1) * itemsPerPage }}. {{ notification.message }}\n            </v-list-item-title>\n          </v-list-item-content>\n          <v-list-item-action>\n            <v-btn icon @click=\"viewDetail(notification)\">\n              <v-icon>mdi-arrow-right-bold-circle-outline</v-icon>\n            </v-btn>\n          </v-list-item-action>\n        </v-list-item>\n      </v-list>\n  \n      <!-- 페이지네이션 -->\n      <v-row justify=\"center\" class=\"mt-4\">\n        <v-pagination\n          v-model=\"currentPage\"\n          :length=\"totalPages\"\n          @input=\"debouncedFetchNotifications\"\n        ></v-pagination>\n      </v-row>\n    </v-container>\n  </template>\n  \n  <script>\n  import axios from 'axios';\n  import _ from 'lodash';\n  \n  export default {\n    data() {\n      return {\n        notifications: [],\n        currentPage: 1,\n        itemsPerPage: 20,\n        totalPages: 1,\n      };\n    },\n    created() {\n      this.fetchNotifications();\n      this.debouncedFetchNotifications = _.debounce(this.fetchNotifications, 300);\n    },\n    computed: {\n      paginatedNotifications() {\n        const start = (this.currentPage - 1) * this.itemsPerPage;\n        const end = start + this.itemsPerPage;\n        return this.notifications.slice(start, end);\n      },\n    },\n    methods: {\n      async fetchNotifications() {\n        try {\n          const response = await axios.get(`${process.env.VUE_APP_API_BASE_URL}/user/notification`);\n          if (response.status === 200) {\n            this.notifications = response.data.result;\n            this.totalPages = Math.ceil(this.notifications.length / this.itemsPerPage);\n          } else {\n            console.error('알림 목록을 불러오는 데 실패했습니다:', response.data.message || response.statusText);\n          }\n        } catch (error) {\n          console.error('알림 목록을 불러오는 중 오류가 발생했습니다:', error);\n        }\n      },\n      viewDetail(notification) {\n        if (notification.qnaId) {\n          this.$router.push(`/qna/detail/${notification.qnaId}`);\n        } else if (notification.postId) {\n          this.$router.push(`/post/detail/${notification.postId}`);\n        } else if (notification.reportId) {\n          this.$router.push(`/report/detail/${notification.reportId}`);\n        }\n      },\n    },\n  };\n  </script>\n  \n  <style scoped>\n  .v-container {\n    max-width: 800px;\n    margin: 0 auto;\n  }\n  \n  .notification-item {\n    border-bottom: 1px solid #e0e0e0;\n    transition: background-color 0.2s;\n  }\n  \n  .notification-item:hover {\n    background-color: #f5f5f5;\n  }\n  \n  .v-list-item-title {\n    font-size: 16px;\n    color: #424242;\n  }\n  \n  .v-list-item-action .v-btn {\n    color: #1e88e5;\n  }\n  \n  .v-pagination {\n    margin-top: 20px;\n  }\n  </style>\n  "],"mappings":";AAmCE,OAAOA,KAAI,MAAO,OAAO;AACzB,OAAOC,CAAA,MAAO,QAAQ;AAEtB,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,aAAa,EAAE,EAAE;MACjBC,WAAW,EAAE,CAAC;MACdC,YAAY,EAAE,EAAE;MAChBC,UAAU,EAAE;IACd,CAAC;EACH,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,IAAI,CAACC,kBAAkB,CAAC,CAAC;IACzB,IAAI,CAACC,2BAA0B,GAAIR,CAAC,CAACS,QAAQ,CAAC,IAAI,CAACF,kBAAkB,EAAE,GAAG,CAAC;EAC7E,CAAC;EACDG,QAAQ,EAAE;IACRC,sBAAsBA,CAAA,EAAG;MACvB,MAAMC,KAAI,GAAI,CAAC,IAAI,CAACT,WAAU,GAAI,CAAC,IAAI,IAAI,CAACC,YAAY;MACxD,MAAMS,GAAE,GAAID,KAAI,GAAI,IAAI,CAACR,YAAY;MACrC,OAAO,IAAI,CAACF,aAAa,CAACY,KAAK,CAACF,KAAK,EAAEC,GAAG,CAAC;IAC7C;EACF,CAAC;EACDE,OAAO,EAAE;IACP,MAAMR,kBAAkBA,CAAA,EAAG;MACzB,IAAI;QACF,MAAMS,QAAO,GAAI,MAAMjB,KAAK,CAACkB,GAAG,CAAC,GAAGC,OAAO,CAACC,GAAG,CAACC,oBAAoB,oBAAoB,CAAC;QACzF,IAAIJ,QAAQ,CAACK,MAAK,KAAM,GAAG,EAAE;UAC3B,IAAI,CAACnB,aAAY,GAAIc,QAAQ,CAACf,IAAI,CAACqB,MAAM;UACzC,IAAI,CAACjB,UAAS,GAAIkB,IAAI,CAACC,IAAI,CAAC,IAAI,CAACtB,aAAa,CAACuB,MAAK,GAAI,IAAI,CAACrB,YAAY,CAAC;QAC5E,OAAO;UACLsB,OAAO,CAACC,KAAK,CAAC,uBAAuB,EAAEX,QAAQ,CAACf,IAAI,CAAC2B,OAAM,IAAKZ,QAAQ,CAACa,UAAU,CAAC;QACtF;MACF,EAAE,OAAOF,KAAK,EAAE;QACdD,OAAO,CAACC,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;MACnD;IACF,CAAC;IACDG,UAAUA,CAACC,YAAY,EAAE;MACvB,IAAIA,YAAY,CAACC,KAAK,EAAE;QACtB,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,eAAeH,YAAY,CAACC,KAAK,EAAE,CAAC;MACxD,OAAO,IAAID,YAAY,CAACI,MAAM,EAAE;QAC9B,IAAI,CAACF,OAAO,CAACC,IAAI,CAAC,gBAAgBH,YAAY,CAACI,MAAM,EAAE,CAAC;MAC1D,OAAO,IAAIJ,YAAY,CAACK,QAAQ,EAAE;QAChC,IAAI,CAACH,OAAO,CAACC,IAAI,CAAC,kBAAkBH,YAAY,CAACK,QAAQ,EAAE,CAAC;MAC9D;IACF;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}