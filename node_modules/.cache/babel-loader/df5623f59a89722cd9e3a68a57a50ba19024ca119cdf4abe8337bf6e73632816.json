{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, withModifiers as _withModifiers, createBlock as _createBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-6b751f4e\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h1\", null, \"내 위시리스트\", -1 /* HOISTED */));\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_v_col = _resolveComponent(\"v-col\");\n  const _component_v_row = _resolveComponent(\"v-row\");\n  const _component_v_card_title = _resolveComponent(\"v-card-title\");\n  const _component_v_card_subtitle = _resolveComponent(\"v-card-subtitle\");\n  const _component_v_btn = _resolveComponent(\"v-btn\");\n  const _component_v_card_actions = _resolveComponent(\"v-card-actions\");\n  const _component_v_card = _resolveComponent(\"v-card\");\n  const _component_v_alert = _resolveComponent(\"v-alert\");\n  const _component_v_progress_circular = _resolveComponent(\"v-progress-circular\");\n  const _component_v_container = _resolveComponent(\"v-container\");\n  const _component_v_app = _resolveComponent(\"v-app\");\n  return _openBlock(), _createBlock(_component_v_app, null, {\n    default: _withCtx(() => [_createVNode(_component_v_container, null, {\n      default: _withCtx(() => [_createVNode(_component_v_row, {\n        class: \"wishlist-header\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_v_col, null, {\n          default: _withCtx(() => [_hoisted_1]),\n          _: 1 /* STABLE */\n        })]),\n        _: 1 /* STABLE */\n      }), $data.wishlist.length > 0 ? (_openBlock(), _createBlock(_component_v_row, {\n        key: 0\n      }, {\n        default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.wishlist, item => {\n          return _openBlock(), _createBlock(_component_v_col, {\n            key: item.id,\n            cols: \"12\",\n            sm: \"6\",\n            md: \"4\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_v_card, {\n              class: \"ma-4\",\n              elevation: 4,\n              onClick: $event => $options.goToSubjectDetail(item.id),\n              style: {\n                \"cursor\": \"pointer\"\n              }\n            }, {\n              default: _withCtx(() => [_createVNode(_component_v_card_title, null, {\n                default: _withCtx(() => [_createTextVNode(\" 강좌 명 : \" + _toDisplayString(item.title || '제목 없음'), 1 /* TEXT */)]),\n                _: 2 /* DYNAMIC */\n              }, 1024 /* DYNAMIC_SLOTS */), _createVNode(_component_v_card_subtitle, null, {\n                default: _withCtx(() => [_createTextVNode(\" 선생님: \" + _toDisplayString(item.teacherName || '선생님 정보 없음'), 1 /* TEXT */)]),\n                _: 2 /* DYNAMIC */\n              }, 1024 /* DYNAMIC_SLOTS */), _createVNode(_component_v_card_actions, null, {\n                default: _withCtx(() => [_createVNode(_component_v_btn, {\n                  onClick: _withModifiers($event => $options.removeFromWishlist(item.id), [\"stop\"]),\n                  color: \"red\"\n                }, {\n                  default: _withCtx(() => [_createTextVNode(\"제거\")]),\n                  _: 2 /* DYNAMIC */\n                }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"])]),\n                _: 2 /* DYNAMIC */\n              }, 1024 /* DYNAMIC_SLOTS */)]),\n              _: 2 /* DYNAMIC */\n            }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"])]),\n            _: 2 /* DYNAMIC */\n          }, 1024 /* DYNAMIC_SLOTS */);\n        }), 128 /* KEYED_FRAGMENT */))]),\n        _: 1 /* STABLE */\n      })) : (_openBlock(), _createBlock(_component_v_row, {\n        key: 1\n      }, {\n        default: _withCtx(() => [_createVNode(_component_v_col, null, {\n          default: _withCtx(() => [_createVNode(_component_v_alert, {\n            type: \"info\",\n            value: true\n          }, {\n            default: _withCtx(() => [_createTextVNode(\" 위시리스트에 항목이 없습니다. \")]),\n            _: 1 /* STABLE */\n          })]),\n          _: 1 /* STABLE */\n        })]),\n        _: 1 /* STABLE */\n      })), $data.loading ? (_openBlock(), _createBlock(_component_v_row, {\n        key: 2,\n        justify: \"center\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_v_progress_circular, {\n          indeterminate: \"\",\n          color: \"primary\"\n        })]),\n        _: 1 /* STABLE */\n      })) : _createCommentVNode(\"v-if\", true), $data.error ? (_openBlock(), _createBlock(_component_v_row, {\n        key: 3,\n        justify: \"center\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_v_alert, {\n          type: \"error\",\n          value: true\n        }, {\n          default: _withCtx(() => [_createTextVNode(_toDisplayString($data.error), 1 /* TEXT */)]),\n          _: 1 /* STABLE */\n        })]),\n        _: 1 /* STABLE */\n      })) : _createCommentVNode(\"v-if\", true)]),\n      _: 1 /* STABLE */\n    })]),\n    _: 1 /* STABLE */\n  });\n}","map":{"version":3,"names":["_createElementVNode","_createBlock","_component_v_app","default","_withCtx","_createVNode","_component_v_container","_component_v_row","class","_component_v_col","_hoisted_1","_","$data","wishlist","length","key","_createElementBlock","_Fragment","_renderList","item","id","cols","sm","md","_component_v_card","elevation","onClick","$event","$options","goToSubjectDetail","style","_component_v_card_title","_createTextVNode","_toDisplayString","title","_component_v_card_subtitle","teacherName","_component_v_card_actions","_component_v_btn","_withModifiers","removeFromWishlist","color","_component_v_alert","type","value","loading","justify","_component_v_progress_circular","indeterminate","_createCommentVNode","error"],"sources":["/Users/milcho/Project/TEENKIRI/teenkiri_front/teenkiri_front/src/views/user/WishListPage.vue"],"sourcesContent":["<template>\n  <v-app>\n    <v-container>\n      <v-row class=\"wishlist-header\">\n        <v-col>\n          <h1>내 위시리스트</h1>\n        </v-col>\n      </v-row>\n      <v-row v-if=\"wishlist.length > 0\">\n        <v-col\n          v-for=\"item in wishlist\"\n          :key=\"item.id\"\n          cols=\"12\" sm=\"6\" md=\"4\"\n        >\n          <v-card \n            class=\"ma-4\" \n            :elevation=\"4\" \n            @click=\"goToSubjectDetail(item.id)\" \n            style=\"cursor: pointer;\"\n          >\n            <v-card-title>\n              강좌 명 : {{ item.title || '제목 없음' }}\n            </v-card-title>\n            <v-card-subtitle>\n              선생님: {{ item.teacherName || '선생님 정보 없음' }}\n            </v-card-subtitle>\n            <v-card-actions>\n              <v-btn @click.stop=\"removeFromWishlist(item.id)\" color=\"red\">제거</v-btn>\n            </v-card-actions>\n          </v-card>\n        </v-col>\n      </v-row>\n      <v-row v-else>\n        <v-col>\n          <v-alert type=\"info\" :value=\"true\">\n            위시리스트에 항목이 없습니다.\n          </v-alert>\n        </v-col>\n      </v-row>\n      <v-row v-if=\"loading\" justify=\"center\">\n        <v-progress-circular indeterminate color=\"primary\"></v-progress-circular>\n      </v-row>\n      <v-row v-if=\"error\" justify=\"center\">\n        <v-alert type=\"error\" :value=\"true\">\n          {{ error }}\n        </v-alert>\n      </v-row>\n    </v-container>\n  </v-app>\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n  data() {\n    return {\n      wishlist: [],\n      loading: false,\n      error: null\n    };\n  },\n  async created() {\n    await this.fetchWishlist();\n  },\n  methods: {\n    async fetchWishlist() {\n      this.loading = true;\n      this.error = null;\n      try {\n        const response = await axios.get(`${process.env.VUE_APP_API_BASE_URL}/user/wishlist`);\n        console.log(response.data);\n\n        if (response.status === 200 && response.data) {\n          this.wishlist = response.data.result || [];\n        } else {\n          console.error('응답 데이터가 없습니다.');\n        }\n      } catch (error) {\n        console.error('위시리스트 불러오기 오류:', error.response ? error.response.data.message : error.message);\n        this.error = error.response ? error.response.data.message : error.message;\n      } finally {\n        this.loading = false;\n      }\n    },\n    async removeFromWishlist(id) {\n      try {\n        const token = localStorage.getItem('token');\n        const response = await axios.delete(`${process.env.VUE_APP_API_BASE_URL}/wish/${id}`, {\n          headers: {\n            'Authorization': `Bearer ${token}`\n          }\n        });\n\n        if (response.status === 200) {\n          this.fetchWishlist(); // 삭제 후 위시리스트를 다시 불러옴\n        } else {\n          console.error('찜 삭제 실패:', response.data.message);\n        }\n      } catch (error) {\n        console.error('찜 삭제 중 오류 발생:', error.response ? error.response.data.message : error.message);\n      }\n    },\n    goToSubjectDetail(id) {\n      this.$router.push({ name: 'SubjectDetail', params: { id } });\n    }\n  }\n};\n</script>\n\n<style scoped>\n.wishlist-header {\n  margin-bottom: 20px;\n}\n\n.v-card {\n  max-width: 400px;\n  margin: auto;\n}\n\n.v-card-title {\n  font-weight: bold;\n}\n\n.v-card-subtitle {\n  color: #757575;\n}\n\n.v-btn {\n  margin-top: 10px;\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}