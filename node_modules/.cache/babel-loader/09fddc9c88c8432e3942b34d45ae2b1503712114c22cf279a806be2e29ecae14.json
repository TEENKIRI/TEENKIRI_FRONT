{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, createBlock as _createBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-6b751f4e\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h1\", null, \"내 위시리스트\", -1 /* HOISTED */));\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_v_col = _resolveComponent(\"v-col\");\n  const _component_v_row = _resolveComponent(\"v-row\");\n  const _component_v_card_title = _resolveComponent(\"v-card-title\");\n  const _component_v_card_subtitle = _resolveComponent(\"v-card-subtitle\");\n  const _component_v_btn = _resolveComponent(\"v-btn\");\n  const _component_v_card_actions = _resolveComponent(\"v-card-actions\");\n  const _component_v_card = _resolveComponent(\"v-card\");\n  const _component_v_alert = _resolveComponent(\"v-alert\");\n  const _component_v_progress_circular = _resolveComponent(\"v-progress-circular\");\n  const _component_v_container = _resolveComponent(\"v-container\");\n  const _component_v_app = _resolveComponent(\"v-app\");\n  return _openBlock(), _createBlock(_component_v_app, null, {\n    default: _withCtx(() => [_createVNode(_component_v_container, null, {\n      default: _withCtx(() => [_createVNode(_component_v_row, {\n        class: \"wishlist-header\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_v_col, null, {\n          default: _withCtx(() => [_hoisted_1]),\n          _: 1 /* STABLE */\n        })]),\n        _: 1 /* STABLE */\n      }), $data.wishlist.length > 0 ? (_openBlock(), _createBlock(_component_v_row, {\n        key: 0\n      }, {\n        default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.wishlist, item => {\n          return _openBlock(), _createBlock(_component_v_col, {\n            key: item.id,\n            cols: \"12\",\n            sm: \"6\",\n            md: \"4\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_v_card, {\n              class: \"ma-4\",\n              elevation: 3\n            }, {\n              default: _withCtx(() => [_createVNode(_component_v_card_title, null, {\n                default: _withCtx(() => [_createTextVNode(\" 강좌 명 : \" + _toDisplayString(item.title || '제목 없음'), 1 /* TEXT */)]),\n                _: 2 /* DYNAMIC */\n              }, 1024 /* DYNAMIC_SLOTS */), _createVNode(_component_v_card_subtitle, null, {\n                default: _withCtx(() => [_createTextVNode(\" 선생님: \" + _toDisplayString(item.teacherName || '선생님 정보 없음'), 1 /* TEXT */)]),\n                _: 2 /* DYNAMIC */\n              }, 1024 /* DYNAMIC_SLOTS */), _createVNode(_component_v_card_actions, null, {\n                default: _withCtx(() => [_createVNode(_component_v_btn, {\n                  onClick: $event => $options.removeFromWishlist(item.id),\n                  color: \"red\"\n                }, {\n                  default: _withCtx(() => [_createTextVNode(\"제거\")]),\n                  _: 2 /* DYNAMIC */\n                }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"])]),\n                _: 2 /* DYNAMIC */\n              }, 1024 /* DYNAMIC_SLOTS */)]),\n              _: 2 /* DYNAMIC */\n            }, 1024 /* DYNAMIC_SLOTS */)]),\n            _: 2 /* DYNAMIC */\n          }, 1024 /* DYNAMIC_SLOTS */);\n        }), 128 /* KEYED_FRAGMENT */))]),\n        _: 1 /* STABLE */\n      })) : (_openBlock(), _createBlock(_component_v_row, {\n        key: 1\n      }, {\n        default: _withCtx(() => [_createVNode(_component_v_col, null, {\n          default: _withCtx(() => [_createVNode(_component_v_alert, {\n            type: \"info\",\n            value: true\n          }, {\n            default: _withCtx(() => [_createTextVNode(\" 위시리스트에 항목이 없습니다. \")]),\n            _: 1 /* STABLE */\n          })]),\n          _: 1 /* STABLE */\n        })]),\n        _: 1 /* STABLE */\n      })), $data.loading ? (_openBlock(), _createBlock(_component_v_row, {\n        key: 2,\n        justify: \"center\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_v_progress_circular, {\n          indeterminate: \"\",\n          color: \"primary\"\n        })]),\n        _: 1 /* STABLE */\n      })) : _createCommentVNode(\"v-if\", true), $data.error ? (_openBlock(), _createBlock(_component_v_row, {\n        key: 3,\n        justify: \"center\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_v_alert, {\n          type: \"error\",\n          value: true\n        }, {\n          default: _withCtx(() => [_createTextVNode(_toDisplayString($data.error), 1 /* TEXT */)]),\n          _: 1 /* STABLE */\n        })]),\n        _: 1 /* STABLE */\n      })) : _createCommentVNode(\"v-if\", true)]),\n      _: 1 /* STABLE */\n    })]),\n    _: 1 /* STABLE */\n  });\n}","map":{"version":3,"names":["_createElementVNode","_createBlock","_component_v_app","default","_withCtx","_createVNode","_component_v_container","_component_v_row","class","_component_v_col","_hoisted_1","_","$data","wishlist","length","key","_createElementBlock","_Fragment","_renderList","item","id","cols","sm","md","_component_v_card","elevation","_component_v_card_title","_createTextVNode","_toDisplayString","title","_component_v_card_subtitle","teacherName","_component_v_card_actions","_component_v_btn","onClick","$event","$options","removeFromWishlist","color","_component_v_alert","type","value","loading","justify","_component_v_progress_circular","indeterminate","_createCommentVNode","error"],"sources":["/Users/milcho/Project/TEENKIRI/teenkiri_front/teenkiri_front/src/views/user/WishListPage.vue"],"sourcesContent":["<template>\n  <v-app>\n    <v-container>\n      <v-row class=\"wishlist-header\">\n        <v-col>\n          <h1>내 위시리스트</h1>\n        </v-col>\n      </v-row>\n      <v-row v-if=\"wishlist.length > 0\">\n        <v-col\n          v-for=\"item in wishlist\"\n          :key=\"item.id\"\n          cols=\"12\" sm=\"6\" md=\"4\"\n        >\n          <v-card class=\"ma-4\" :elevation=\"3\">\n            <v-card-title>\n              강좌 명 : {{ item.title || '제목 없음' }}\n            </v-card-title>\n            <v-card-subtitle>\n              선생님: {{ item.teacherName || '선생님 정보 없음' }}\n            </v-card-subtitle>\n            <v-card-actions>\n              <v-btn @click=\"removeFromWishlist(item.id)\" color=\"red\">제거</v-btn>\n            </v-card-actions>\n          </v-card>\n        </v-col>\n      </v-row>\n      <v-row v-else>\n        <v-col>\n          <v-alert type=\"info\" :value=\"true\">\n            위시리스트에 항목이 없습니다.\n          </v-alert>\n        </v-col>\n      </v-row>\n      <v-row v-if=\"loading\" justify=\"center\">\n        <v-progress-circular indeterminate color=\"primary\"></v-progress-circular>\n      </v-row>\n      <v-row v-if=\"error\" justify=\"center\">\n        <v-alert type=\"error\" :value=\"true\">\n          {{ error }}\n        </v-alert>\n      </v-row>\n    </v-container>\n  </v-app>\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n  data() {\n    return {\n      wishlist: [], // 위시리스트 데이터\n      loading: false, // 데이터 로딩 상태\n      error: null // 오류 메시지\n    };\n  },\n  async created() {\n    await this.fetchWishlist();\n  },\n  methods: {\n    async fetchWishlist() {\n      this.loading = true;\n      this.error = null;\n      try {\n        const response = await axios.get(`${process.env.VUE_APP_API_BASE_URL}/user/wishlist`);\n        console.log(response.data); // 서버 응답 확인\n\n        if (response.status === 200 && response.data) {\n          // response.data.result로 데이터 접근\n          this.wishlist = response.data.result || [];\n        } else {\n          console.error('응답 데이터가 없습니다.');\n        }\n      } catch (error) {\n        console.error('위시리스트 불러오기 오류:', error.response ? error.response.data.message : error.message);\n        this.error = error.response ? error.response.data.message : error.message;\n      } finally {\n        this.loading = false;\n      }\n    },\n    async removeFromWishlist(id) {\n      try {\n        const token = localStorage.getItem('token');\n        const response = await axios.delete(`${process.env.VUE_APP_API_BASE_URL}/wish/${id}`, {\n          headers: {\n            'Authorization': `Bearer ${token}` // 인증 헤더 추가\n          }\n        });\n\n        if (response.status === 200) {\n          this.fetchWishlist(); // 삭제 후 위시리스트를 다시 불러옴\n        } else {\n          console.error('찜 삭제 실패:', response.data.message);\n        }\n      } catch (error) {\n        console.error('찜 삭제 중 오류 발생:', error.response ? error.response.data.message : error.message);\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\n.wishlist-header {\n  margin-bottom: 20px;\n}\n\n.v-card {\n  max-width: 400px;\n  margin: auto;\n}\n\n.v-card-title {\n  font-weight: bold;\n}\n\n.v-card-subtitle {\n  color: #757575;\n}\n\n.v-btn {\n  margin-top: 10px;\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}