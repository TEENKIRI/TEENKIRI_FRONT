{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, withCtx as _withCtx, openBlock as _openBlock, createElementBlock as _createElementBlock, renderList as _renderList, Fragment as _Fragment, toDisplayString as _toDisplayString, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-89b57ba0\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  key: 0,\n  class: \"btnWrap\"\n};\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"a\", {\n  href: \"javascript:void(0)\",\n  class: \"btn_write\"\n}, \"강의 업로드하기\", -1 /* HOISTED */));\nconst _hoisted_3 = {\n  class: \"tbl_list\"\n};\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"caption\", null, null, -1 /* HOISTED */));\nconst _hoisted_5 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"col\", {\n  width: \"80\"\n}, null, -1 /* HOISTED */));\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"col\", {\n  width: \"\"\n}, null, -1 /* HOISTED */));\nconst _hoisted_7 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"col\", {\n  width: \"140\"\n}, null, -1 /* HOISTED */));\nconst _hoisted_8 = [\"width\"];\nconst _hoisted_9 = {\n  key: 0,\n  width: \"100\"\n};\nconst _hoisted_10 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"th\", null, \"번호\", -1 /* HOISTED */));\nconst _hoisted_11 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"th\", null, \"제목\", -1 /* HOISTED */));\nconst _hoisted_12 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"th\", null, \"수강여부\", -1 /* HOISTED */));\nconst _hoisted_13 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"th\", null, \"강의시간\", -1 /* HOISTED */));\nconst _hoisted_14 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"th\", null, \"이동\", -1 /* HOISTED */));\nconst _hoisted_15 = {\n  key: 0\n};\nconst _hoisted_16 = {\n  key: 0\n};\nconst _hoisted_17 = [\"colspan\"];\nconst _hoisted_18 = {\n  class: \"text_left\"\n};\nconst _hoisted_19 = [\"onClick\"];\nconst _hoisted_20 = {\n  key: 0\n};\nconst _hoisted_21 = [\"to\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_SubjectDetailComponent = _resolveComponent(\"SubjectDetailComponent\");\n  const _component_router_link = _resolveComponent(\"router-link\");\n  const _component_v_container = _resolveComponent(\"v-container\");\n  const _component_v_app = _resolveComponent(\"v-app\");\n  return _openBlock(), _createBlock(_component_v_app, null, {\n    default: _withCtx(() => [_createVNode(_component_v_container, null, {\n      default: _withCtx(() => [_createCommentVNode(\" subjectData가 로드된 후에만 컴포넌트를 렌더링 \"), _createVNode(_component_SubjectDetailComponent, {\n        onSubjectDataLoaded: $options.handleSubjectDataLoaded,\n        modelValue: $data.selectedMenu,\n        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.selectedMenu = $event)\n      }, null, 8 /* PROPS */, [\"onSubjectDataLoaded\", \"modelValue\"]), this.user.isAdmin ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_router_link, {\n        to: \"/lecture/create\"\n      }, {\n        default: _withCtx(() => [_hoisted_2]),\n        _: 1 /* STABLE */\n      })])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" 강의 목록 \"), _createElementVNode(\"table\", _hoisted_3, [_hoisted_4, _createElementVNode(\"colgroup\", null, [_hoisted_5, _hoisted_6, _hoisted_7, _createElementVNode(\"col\", {\n        width: $options.isAdmin ? '180' : '280'\n      }, null, 8 /* PROPS */, _hoisted_8), _createCommentVNode(\" 수강여부 열의 너비를 관리자가 아닐 때 넓힘 \"), $options.isAdmin ? (_openBlock(), _createElementBlock(\"col\", _hoisted_9)) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" 관리 열 \")]), _createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [_hoisted_10, _hoisted_11, _hoisted_12, _hoisted_13, _hoisted_14, $options.isAdmin ? (_openBlock(), _createElementBlock(\"th\", _hoisted_15, \"관리\")) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" 관리 버튼 헤더 \")])]), _createElementVNode(\"tbody\", null, [$data.lecture.lectureList.length === 0 ? (_openBlock(), _createElementBlock(\"tr\", _hoisted_16, [_createElementVNode(\"td\", {\n        colspan: $options.isAdmin ? 6 : 5,\n        class: \"text_center\"\n      }, \"강의가 없습니다.\", 8 /* PROPS */, _hoisted_17)])) : _createCommentVNode(\"v-if\", true), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.lecture.lectureList, (item, index) => {\n        return _openBlock(), _createElementBlock(\"tr\", {\n          key: item.id\n        }, [_createElementVNode(\"td\", null, _toDisplayString(index + 1), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_18, _toDisplayString(item.title), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(item.progress), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(item.videoDuration), 1 /* TEXT */), _createElementVNode(\"td\", null, [$data.user.userId ? (_openBlock(), _createElementBlock(\"a\", {\n          key: 0,\n          href: \"javascript:void(0)\",\n          class: \"btn_write\",\n          onClick: $event => $options.goToDetail(item.id)\n        }, \"강의보기\", 8 /* PROPS */, _hoisted_19)) : _createCommentVNode(\"v-if\", true)]), $options.isAdmin ? (_openBlock(), _createElementBlock(\"td\", _hoisted_20, [_createElementVNode(\"a\", {\n          href: \"javascript:void(0)\",\n          class: \"btn_write\",\n          to: `/lecture/create/${item.id}`\n        }, \"수정\", 8 /* PROPS */, _hoisted_21)])) : _createCommentVNode(\"v-if\", true)]);\n      }), 128 /* KEYED_FRAGMENT */))])])]),\n      _: 1 /* STABLE */\n    })]),\n    _: 1 /* STABLE */\n  });\n}","map":{"version":3,"names":["key","class","_createElementVNode","href","width","_createBlock","_component_v_app","default","_withCtx","_createVNode","_component_v_container","_createCommentVNode","_component_SubjectDetailComponent","onSubjectDataLoaded","$options","handleSubjectDataLoaded","modelValue","$data","selectedMenu","_cache","$event","user","isAdmin","_createElementBlock","_hoisted_1","_component_router_link","to","_hoisted_2","_","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","lecture","lectureList","length","_hoisted_16","colspan","_hoisted_17","_Fragment","_renderList","item","index","id","_toDisplayString","_hoisted_18","title","progress","videoDuration","userId","onClick","goToDetail","_hoisted_19","_hoisted_20","_hoisted_21"],"sources":["/Users/milcho/Project/TEENKIRI/teenkiri_front/teenkiri_front/src/views/subject/SubjectDetail.vue"],"sourcesContent":["<template>\n  <v-app>\n    <v-container>\n      <!-- subjectData가 로드된 후에만 컴포넌트를 렌더링 -->\n      <SubjectDetailComponent @subject-data-loaded=\"handleSubjectDataLoaded\" v-model=\"selectedMenu\" />\n\n      <div class=\"btnWrap\" v-if=\"this.user.isAdmin\">\n        <router-link to=\"/lecture/create\">\n          <a href=\"javascript:void(0)\" class=\"btn_write\">강의 업로드하기</a>\n        </router-link>\n      </div>\n\n      <!-- 강의 목록 -->\n      <table class=\"tbl_list\">\n        <caption></caption>\n        <colgroup>\n          <col width=\"80\" />\n          <col width=\"\" />\n          <col width=\"140\" />\n          <col :width=\"isAdmin ? '180' : '280'\" /> <!-- 수강여부 열의 너비를 관리자가 아닐 때 넓힘 -->\n          <col v-if=\"isAdmin\" width=\"100\" /> <!-- 관리 열 -->\n        </colgroup>\n        <thead>\n          <tr>\n            <th>번호</th>\n            <th>제목</th>\n            <th>수강여부</th>\n            <th>강의시간</th>\n            <th>이동</th>\n            <th v-if=\"isAdmin\">관리</th> <!-- 관리 버튼 헤더 -->\n          </tr>\n        </thead>\n        <tbody>\n          <tr v-if=\"lecture.lectureList.length === 0\">\n            <td :colspan=\"isAdmin ? 6 : 5\" class=\"text_center\">강의가 없습니다.</td>\n          </tr>\n          <tr v-for=\"(item, index) in lecture.lectureList\" :key=\"item.id\">\n            <td>{{ index + 1 }}</td>\n            <td class=\"text_left\">{{ item.title }}</td>\n            <td>{{ item.progress }}</td>\n            <td>{{ item.videoDuration }}</td>\n            <td>\n              <a v-if=\"user.userId\" href=\"javascript:void(0)\" class=\"btn_write\" @click=\"goToDetail(item.id)\">강의보기</a>\n            </td>\n            <td v-if=\"isAdmin\">\n              <a href=\"javascript:void(0)\" class=\"btn_write\" :to=\"`/lecture/create/${item.id}`\">수정</a>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </v-container>\n  </v-app>\n</template>\n\n<script>\nimport SubjectDetailComponent from \"@/components/subject/SubjectDetailComponent.vue\";\nimport axios from \"axios\";\n\nexport default {\n  components: {\n    SubjectDetailComponent,\n  },\n  data() {\n    return {\n      user: {},\n      subjectData: null, // 초기 상태는 null\n      subjectId: \"\",\n      selectedMenu: \"SubjectDetail\", // 기본으로 선택된 메뉴\n      lecture: {\n        lectureList: [],\n        page: {\n          pageSize: 5,\n          currentPage: 0,\n        },\n      },\n    };\n  },\n  async created() {\n    this.subjectId = this.$route.params.id;\n    try {\n      await this.$store.dispatch(\"setUserAllInfoActions\");\n      this.user = this.$store.getters.getUserObj;\n    } catch (error) {\n      console.error(\"사용자 정보를 가져오는 중 오류가 발생했습니다:\", error);\n    }\n    this.getSubjectPerLectureList();\n  },\n  methods: {\n    async getSubjectPerLectureList() {\n      const params = {\n        size: this.lecture.page.pageSize,\n        page: this.lecture.page.currentPage,\n      };\n\n      const response = await axios.get(\n        `${process.env.VUE_APP_API_BASE_URL}/subject/${this.subjectId}/lecture/list`,\n        { params }\n      );\n      const additionalData = response.data.result.content;\n      this.lecture.lectureList = [...this.lecture.lectureList, ...additionalData];\n    },\n    setLectureCreateBtn() {\n      if(Number(this.user.userId) === this.subjectData.userTeacherId || this.user.role == \"ADMIN\"){\n        this.user.isAdmin = true;\n      } else {\n        this.user.isAdmin = false;\n      }\n    },\n    handleSubjectDataLoaded(data) {\n      this.subjectData = data;\n      if(this.subjectData && this.user.userId){\n        this.setLectureCreateBtn();\n      }\n    },\n    goToDetail(lectureId) {\n      this.$router.push({ name: \"LectureDetail\", params: { id: lectureId } });\n    },\n  },\n  computed: {\n    isAdmin() {\n      return this.user.isAdmin;\n    },\n  },\n};\n</script>\n\n<style scoped>\n.container {\n  padding-top: 20px;\n}\n\n.btnWrap {\n  text-align: right;\n  margin-bottom: 20px;\n}\n\n.btn_write {\n  background-color:  #6fc8b8;\n  color: #fff;\n  padding: 10px 20px;\n  text-decoration: none;\n  border-radius: 5px;\n  font-size: 16px;\n  display: inline-block;\n  transition: background-color 0.3s ease;\n}\n\n.btn_write:hover {\n  background-color: #0056b3;\n}\n\n.tbl_list {\n  width: 100%;\n  border-collapse: collapse;\n  margin-bottom: 20px;\n}\n\n.tbl_list th,\n.tbl_list td {\n  border-top: 1px solid #ddd;\n  border-bottom: 1px solid #ddd;\n  padding: 10px;\n  text-align: left;\n  border-left: none; \n  border-right: none; \n}\n\n.tbl_list th {\n  background-color: #f4f4f4;\n  font-weight: bold;\n}\n\n.text_left {\n  text-align: left;\n}\n\n.text_center {\n  text-align: center;\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}