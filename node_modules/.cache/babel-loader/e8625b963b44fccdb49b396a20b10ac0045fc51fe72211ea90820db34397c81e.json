{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nexport default {\n  data() {\n    return {\n      questionUserNickname: '',\n      questionDate: '',\n      questionTitle: '',\n      questionText: '',\n      questionImage: null,\n      answererEmail: '',\n      answerText: '',\n      answerImage: null,\n      previewImageSrc: null,\n      answeredAt: ''\n    };\n  },\n  created() {\n    this.fetchQuestionDetails();\n  },\n  methods: {\n    fetchQuestionDetails() {\n      const questionId = this.$route.params.id;\n      axios.get(`${process.env.VUE_APP_API_BASE_URL}/qna/detail/${questionId}`).then(response => {\n        console.log(response.data); // 응답 데이터를 콘솔에 출력하여 확인\n        const question = response.data.result;\n        this.questionUserNickname = question.questionUserNickname;\n        this.questionDate = new Date(question.createdTime).toLocaleString();\n        this.questionTitle = question.title;\n        this.questionText = question.questionText;\n        this.questionImage = question.qimageUrl;\n      }).catch(error => {\n        console.error('질문 정보를 불러오는 중 오류가 발생했습니다:', error);\n      });\n    },\n    onFileChange(event) {\n      const files = event.target.files || event.dataTransfer.files;\n      if (files && files.length > 0) {\n        this.answerImage = files[0];\n        this.previewImage();\n      } else {\n        this.answerImage = null;\n        this.previewImageSrc = null;\n      }\n    },\n    previewImage() {\n      if (this.answerImage) {\n        const reader = new FileReader();\n        reader.onload = e => {\n          this.previewImageSrc = e.target.result;\n        };\n        reader.readAsDataURL(this.answerImage);\n      } else {\n        this.previewImageSrc = null;\n      }\n    },\n    async submitAnswer() {\n      const formData = new FormData();\n      formData.append('answererEmail', this.answererEmail);\n      formData.append('answerText', this.answerText);\n      formData.append('answeredAt', this.answeredAt);\n      if (this.answerImage) {\n        formData.append('image', this.answerImage);\n      }\n      try {\n        const response = await axios.post(`${process.env.VUE_APP_API_BASE_URL}/qna/answer/${this.$route.params.id}`, formData, {\n          headers: {\n            'Content-Type': 'multipart/form-data'\n          }\n        });\n        console.log(response);\n        alert('답변이 성공적으로 제출되었습니다!');\n        this.$router.push({\n          name: 'QnaList'\n        });\n      } catch (error) {\n        const errorMessage = error.response && error.response.data ? error.response.data.message : '답변 제출에 실패했습니다.';\n        alert(errorMessage);\n        console.error('Error details:', error);\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","data","questionUserNickname","questionDate","questionTitle","questionText","questionImage","answererEmail","answerText","answerImage","previewImageSrc","answeredAt","created","fetchQuestionDetails","methods","questionId","$route","params","id","get","process","env","VUE_APP_API_BASE_URL","then","response","console","log","question","result","Date","createdTime","toLocaleString","title","qimageUrl","catch","error","onFileChange","event","files","target","dataTransfer","length","previewImage","reader","FileReader","onload","e","readAsDataURL","submitAnswer","formData","FormData","append","post","headers","alert","$router","push","name","errorMessage","message"],"sources":["/Users/milcho/Project/TEENKIRI/teenkiri_front/teenkiri_front/src/views/qna/CreateAnswer.vue"],"sourcesContent":["<template>\n    <v-container class=\"mt-5\">\n      <v-card>\n        <v-card-title>\n          <h3>QnA 답변하기</h3>\n        </v-card-title>\n  \n        <v-card-text>\n          <!-- 질문자 정보 -->\n          <v-row>\n            <v-col cols=\"6\">\n              <v-text-field\n                label=\"질문자\"\n                v-model=\"questionUserNickname\"\n                readonly\n              />\n            </v-col>\n            <v-col cols=\"6\">\n              <v-text-field\n                label=\"질문 날짜\"\n                v-model=\"questionDate\"\n                readonly\n              />\n            </v-col>\n          </v-row>\n  \n          <!-- 질문 내용 -->\n          <v-text-field label=\"제목\" v-model=\"questionTitle\" readonly />\n          <v-textarea label=\"질문 내용\" v-model=\"questionText\" rows=\"5\" readonly />\n  \n          <!-- 질문 이미지 -->\n          <v-img\n            v-if=\"questionImage\"\n            :src=\"questionImage\"\n            alt=\"질문 이미지\"\n            max-width=\"400\"\n            class=\"my-3\"\n          ></v-img>\n  \n          <!-- 답변 폼 -->\n          <v-form ref=\"form\" @submit.prevent=\"submitAnswer\">\n            <v-textarea\n              label=\"답변 내용\"\n              v-model=\"answerText\"\n              rows=\"5\"\n              required\n            />\n            <v-textarea\n            label=\"답변 내용\"\n            v-model=\"answerText\"\n            rows=\"5\"\n            required\n          />\n            <v-file-input\n              ref=\"fileInput\"\n              @change=\"onFileChange\"\n              label=\"답변 이미지 (선택사항)\"\n              accept=\"image/*\"\n            />\n            <v-img v-if=\"previewImageSrc\" :src=\"previewImageSrc\" max-width=\"200\" />\n            <v-btn type=\"submit\" color=\"primary\" class=\"mt-3\">답변 제출</v-btn>\n          </v-form>\n        </v-card-text>\n      </v-card>\n    </v-container>\n  </template>\n  \n  <script>\n  import axios from 'axios';\n  \n  export default {\n    data() {\n      return {\n        questionUserNickname: '',\n        questionDate: '',\n        questionTitle: '',\n        questionText: '',\n        questionImage: null,\n  \n        answererEmail: '',\n        answerText: '',\n        answerImage: null,\n        previewImageSrc: null,\n        answeredAt: '',\n      };\n    },\n    created() {\n      this.fetchQuestionDetails();\n    },\n    methods: {\n      fetchQuestionDetails() {\n        const questionId = this.$route.params.id;\n        axios\n          .get(`${process.env.VUE_APP_API_BASE_URL}/qna/detail/${questionId}`)\n          .then((response) => {\n            console.log(response.data); // 응답 데이터를 콘솔에 출력하여 확인\n            const question = response.data.result;\n            this.questionUserNickname = question.questionUserNickname;\n            this.questionDate = new Date(question.createdTime).toLocaleString();\n            this.questionTitle = question.title;\n            this.questionText = question.questionText;\n            this.questionImage = question.qimageUrl;\n          })\n          .catch((error) => {\n            console.error('질문 정보를 불러오는 중 오류가 발생했습니다:', error);\n          });\n      },\n      onFileChange(event) {\n        const files = event.target.files || event.dataTransfer.files;\n        if (files && files.length > 0) {\n          this.answerImage = files[0];\n          this.previewImage();\n        } else {\n          this.answerImage = null;\n          this.previewImageSrc = null;\n        }\n      },\n      previewImage() {\n        if (this.answerImage) {\n          const reader = new FileReader();\n          reader.onload = (e) => {\n            this.previewImageSrc = e.target.result;\n          };\n          reader.readAsDataURL(this.answerImage);\n        } else {\n          this.previewImageSrc = null;\n        }\n      },\n      async submitAnswer() {\n        const formData = new FormData();\n        formData.append('answererEmail', this.answererEmail);\n        formData.append('answerText', this.answerText);\n        formData.append('answeredAt', this.answeredAt);\n        if (this.answerImage) {\n          formData.append('image', this.answerImage);\n        }\n  \n        try {\n          const response = await axios.post(\n            `${process.env.VUE_APP_API_BASE_URL}/qna/answer/${this.$route.params.id}`,\n            formData,\n            {\n              headers: {\n                'Content-Type': 'multipart/form-data',\n              },\n            }\n          );\n          console.log(response);\n          alert('답변이 성공적으로 제출되었습니다!');\n          this.$router.push({ name: 'QnaList' });\n        } catch (error) {\n          const errorMessage =\n            error.response && error.response.data\n              ? error.response.data.message\n              : '답변 제출에 실패했습니다.';\n          alert(errorMessage);\n          console.error('Error details:', error);\n        }\n      },\n    },\n  };\n  </script>\n  \n  <style scoped>\n  .v-container {\n    max-width: 600px;\n    margin: auto;\n  }\n  </style>\n  "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}