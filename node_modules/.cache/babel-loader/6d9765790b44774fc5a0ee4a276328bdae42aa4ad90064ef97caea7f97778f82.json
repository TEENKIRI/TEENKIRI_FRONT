{"ast":null,"code":"import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-18f0c5d3\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = [\"src\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_v_col = _resolveComponent(\"v-col\");\n  const _component_v_row = _resolveComponent(\"v-row\");\n  const _component_v_btn = _resolveComponent(\"v-btn\");\n  const _component_v_list_item = _resolveComponent(\"v-list-item\");\n  const _component_v_list = _resolveComponent(\"v-list\");\n  const _component_v_btn_toggle = _resolveComponent(\"v-btn-toggle\");\n  const _component_SubjectQna = _resolveComponent(\"SubjectQna\");\n  const _component_v_sheet = _resolveComponent(\"v-sheet\");\n  return _openBlock(), _createBlock(_component_v_sheet, null, {\n    default: _withCtx(() => [_createVNode(_component_v_row, null, {\n      default: _withCtx(() => [_createVNode(_component_v_col, null, {\n        default: _withCtx(() => [_createElementVNode(\"h1\", null, _toDisplayString($data.subjectData.title), 1 /* TEXT */)]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_v_row, null, {\n      default: _withCtx(() => [_createVNode(_component_v_col, null, {\n        default: _withCtx(() => [_createElementVNode(\"img\", {\n          src: $data.subjectData.subjectThumUrl\n        }, null, 8 /* PROPS */, _hoisted_1)]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_v_col, null, {\n        default: _withCtx(() => [_createVNode(_component_v_row, null, {\n          default: _withCtx(() => [_createVNode(_component_v_col, null, {\n            default: _withCtx(() => [_createCommentVNode(\" 수강중인 경우 버튼 비활성화 \"), _createVNode(_component_v_btn, {\n              disabled: $data.isEnrolled,\n              onClick: $options.applyForSubject\n            }, {\n              default: _withCtx(() => [_createTextVNode(_toDisplayString($data.isEnrolled ? '이미 수강중입니다' : '수강신청'), 1 /* TEXT */)]),\n              _: 1 /* STABLE */\n            }, 8 /* PROPS */, [\"disabled\", \"onClick\"]), _createVNode(_component_v_btn, {\n              onClick: $options.handleWishlist\n            }, {\n              default: _withCtx(() => [_createTextVNode(_toDisplayString($data.isInWishlist ? '찜 취소하기' : '찜하기'), 1 /* TEXT */)]),\n              _: 1 /* STABLE */\n            }, 8 /* PROPS */, [\"onClick\"])]),\n            _: 1 /* STABLE */\n          })]),\n          _: 1 /* STABLE */\n        }), _createVNode(_component_v_row, null, {\n          default: _withCtx(() => [_createVNode(_component_v_col, null, {\n            default: _withCtx(() => [_createVNode(_component_v_list, {\n              lines: \"two\"\n            }, {\n              default: _withCtx(() => [_createVNode(_component_v_list_item, {\n                title: \"선생님\",\n                subtitle: $data.subjectData.userTeacherName\n              }, null, 8 /* PROPS */, [\"subtitle\"]), _createVNode(_component_v_list_item, {\n                title: \"수강대상\",\n                subtitle: $data.subjectData.grade\n              }, null, 8 /* PROPS */, [\"subtitle\"]), _createVNode(_component_v_list_item, {\n                title: \"강좌구성\",\n                subtitle: $data.subjectData.userTeacherName\n              }, null, 8 /* PROPS */, [\"subtitle\"]), _createVNode(_component_v_list_item, {\n                title: \"평점\",\n                subtitle: $data.subjectData.rating + ' 점'\n              }, null, 8 /* PROPS */, [\"subtitle\"]), _createVNode(_component_v_list_item, {\n                title: \"설명\",\n                subtitle: $data.subjectData.description\n              }, null, 8 /* PROPS */, [\"subtitle\"])]),\n              _: 1 /* STABLE */\n            })]),\n            _: 1 /* STABLE */\n          })]),\n          _: 1 /* STABLE */\n        })]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_v_row, null, {\n      default: _withCtx(() => [_createVNode(_component_v_col, null, {\n        default: _withCtx(() => [_createVNode(_component_v_btn_toggle, {\n          modelValue: $data.internalValue,\n          \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.internalValue = $event),\n          color: \"primary\",\n          rounded: \"0\",\n          group: \"\"\n        }, {\n          default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.menuItems, item => {\n            return _openBlock(), _createBlock(_component_v_btn, {\n              class: \"flex-grow-1\",\n              key: item.value,\n              value: item.value,\n              onClick: $event => $options.toggleContent(item.value)\n            }, {\n              default: _withCtx(() => [_createTextVNode(_toDisplayString(item.title), 1 /* TEXT */)]),\n              _: 2 /* DYNAMIC */\n            }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"value\", \"onClick\"]);\n          }), 128 /* KEYED_FRAGMENT */))]),\n          _: 1 /* STABLE */\n        }, 8 /* PROPS */, [\"modelValue\"])]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_v_row, null, {\n      default: _withCtx(() => [_createVNode(_component_v_col, null, {\n        default: _withCtx(() => [$data.showQna ? (_openBlock(), _createBlock(_component_SubjectQna, {\n          key: 0,\n          subjectId: $data.subjectId\n        }, null, 8 /* PROPS */, [\"subjectId\"])) : _createCommentVNode(\"v-if\", true)]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    })]),\n    _: 1 /* STABLE */\n  });\n}","map":{"version":3,"names":["_createBlock","_component_v_sheet","default","_withCtx","_createVNode","_component_v_row","_component_v_col","_createElementVNode","_toDisplayString","$data","subjectData","title","_","src","subjectThumUrl","_hoisted_1","_createCommentVNode","_component_v_btn","disabled","isEnrolled","onClick","$options","applyForSubject","_createTextVNode","handleWishlist","isInWishlist","_component_v_list","lines","_component_v_list_item","subtitle","userTeacherName","grade","rating","description","_component_v_btn_toggle","modelValue","internalValue","_cache","$event","color","rounded","group","_createElementBlock","_Fragment","_renderList","menuItems","item","class","key","value","toggleContent","showQna","_component_SubjectQna","subjectId"],"sources":["/Users/milcho/Project/TEENKIRI/teenkiri_front/teenkiri_front/src/components/subject/SubjectDetailComponent.vue"],"sourcesContent":["<template>\n  <v-sheet>\n    <v-row>\n      <v-col>\n        <h1>{{ subjectData.title }}</h1>\n      </v-col>\n    </v-row>\n    <v-row>\n      <v-col>\n        <img :src=\"subjectData.subjectThumUrl\" />\n      </v-col>\n      <v-col>\n        <v-row>\n          <v-col>\n            <!-- 수강중인 경우 버튼 비활성화 -->\n            <v-btn :disabled=\"isEnrolled\" @click=\"applyForSubject\">\n              {{ isEnrolled ? '이미 수강중입니다' : '수강신청' }}\n            </v-btn>\n            <v-btn @click=\"handleWishlist\">\n              {{ isInWishlist ? '찜 취소하기' : '찜하기' }}\n            </v-btn>\n          </v-col>\n        </v-row>\n        <v-row>\n          <v-col>\n            <v-list lines=\"two\">\n              <v-list-item title=\"선생님\" :subtitle=\"subjectData.userTeacherName\"></v-list-item>\n              <v-list-item title=\"수강대상\" :subtitle=\"subjectData.grade\"></v-list-item>\n              <v-list-item title=\"강좌구성\" :subtitle=\"subjectData.userTeacherName\"></v-list-item>\n              <v-list-item title=\"평점\" :subtitle=\"subjectData.rating + ' 점'\"></v-list-item>\n              <v-list-item title=\"설명\" :subtitle=\"subjectData.description\"></v-list-item>\n            </v-list>\n          </v-col>\n        </v-row>\n      </v-col>\n    </v-row>\n    <v-row>\n      <v-col>\n        <v-btn-toggle v-model=\"internalValue\" color=\"primary\" rounded=\"0\" group>\n          <v-btn\n            class=\"flex-grow-1\"\n            v-for=\"item in menuItems\"\n            :key=\"item.value\"\n            :value=\"item.value\"\n            @click=\"toggleContent(item.value)\"\n          >\n            {{ item.title }}\n          </v-btn>\n        </v-btn-toggle>\n      </v-col>\n    </v-row>\n    <v-row>\n      <v-col>\n        <SubjectQna v-if=\"showQna\" :subjectId=\"subjectId\" />\n      </v-col>\n    </v-row>\n  </v-sheet>\n</template>\n\n<script>\nimport axios from 'axios';\nimport SubjectQna from './SubjectQna.vue'; // QnA 컴포넌트 import\n\nexport default {\n  components: {\n    SubjectQna,\n  },\n  props: {\n    modelValue: {\n      type: String,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      internalValue: this.modelValue,\n      subjectId: '',\n      subjectData: {},\n      isInWishlist: false,\n      isEnrolled: false, // 사용자의 수강 여부 상태\n      showQna: false, // QnA 목록 표시 여부\n    };\n  },\n  created() {\n    this.subjectId = this.$route.params.id;\n    this.getSubjectDetail();\n    this.checkWishlistStatus();\n    this.checkEnrollmentStatus(); // 수강 여부 확인\n  },\n  methods: {\n    async getSubjectDetail() {\n      try {\n        const response = await axios.get(\n          `${process.env.VUE_APP_API_BASE_URL}/subject/detail/${this.subjectId}`\n        );\n        this.subjectData = response.data.result;\n      } catch (error) {\n        console.error('강좌 세부 정보 조회 실패:', error);\n      }\n    },\n    async checkWishlistStatus() {\n      try {\n        const response = await axios.get(\n          `${process.env.VUE_APP_API_BASE_URL}/wish/check/${this.subjectId}`\n        );\n        this.isInWishlist = response.data.isInWishlist;\n      } catch (error) {\n        console.error('위시리스트 상태 확인 실패:', error);\n      }\n    },\n    async checkEnrollmentStatus() {\n      try {\n        const response = await axios.get(\n          `${process.env.VUE_APP_API_BASE_URL}/my/subject/check-enrollment/${this.subjectId}`\n        );\n        this.isEnrolled = response.data.isEnrolled; // 사용자가 수강 중인지 확인\n      } catch (error) {\n        console.error('수강 상태 확인 실패:', error);\n      }\n    },\n    async handleWishlist() {\n      if (this.isInWishlist) {\n        await this.removeFromWishlist();\n      } else {\n        await this.addToWishlist();\n      }\n      this.isInWishlist = !this.isInWishlist;\n    },\n    async addToWishlist() {\n      try {\n        await axios.post(\n          `${process.env.VUE_APP_API_BASE_URL}/wish/${this.subjectId}`\n        );\n        alert('찜 추가 성공');\n      } catch (error) {\n        alert('찜 추가 실패');\n        console.error(error);\n      }\n    },\n    async removeFromWishlist() {\n      try {\n        await axios.delete(\n          `${process.env.VUE_APP_API_BASE_URL}/wish/${this.subjectId}`\n        );\n        alert('찜 취소 성공');\n      } catch (error) {\n        alert('찜 취소 실패');\n        console.error(error);\n      }\n    },\n    async applyForSubject() {\n      if (this.isEnrolled) {\n        alert('이미 수강중인 강좌입니다.');\n        return;\n      }\n      try {\n        await axios.post(\n          `${process.env.VUE_APP_API_BASE_URL}/my/subject/create`,\n          {\n            subjectId: this.subjectId,\n          }\n        );\n        alert('강좌 수강 신청이 완료되었습니다.');\n        this.isEnrolled = true; // 신청 후 수강 상태 업데이트\n      } catch (error) {\n        alert('강좌 수강 신청 실패');\n        console.error(error);\n      }\n    },\n    toggleContent(value) {\n      if (value === 'SubjectQna') {\n        this.showQna = true;\n      } else {\n        this.showQna = false;\n      }\n    },\n  },\n  computed: {\n    menuItems() {\n      return [\n        { title: '강의목록', value: 'SubjectDetail' },\n        { title: 'Q&A 게시판', value: 'SubjectQna' },\n        { title: '강의 후기', value: 'SubjectReview' },\n      ];\n    },\n  },\n};\n</script>\n\n<style scoped>\n/* 필요한 경우 스타일 추가 */\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}